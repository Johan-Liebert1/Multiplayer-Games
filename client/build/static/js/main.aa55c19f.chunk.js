(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),c=n(43),r=n.n(c),a=(n(153),n(8)),s=n(10),l=n(4),d=n(273),u=n(270),h={hidden:{scale:0},show:{scale:1,transition:{duration:.3}},exit:{scale:0,transition:{duration:.3}}},v=n(245),f=65,m=n(1),b=function(e){var t=e.winnerColor,n=e.winnerName,o=Object(i.useState)(!1),c=Object(l.a)(o,2),r=c[0],a=c[1];return Object(m.jsx)("div",{style:{width:"520px",height:"520px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:900,position:"absolute",top:0,left:0},children:Object(m.jsx)(d.a,{children:Object(m.jsxs)(u.a.div,{onClick:function(){return a(!0)},style:{height:"300px",width:"300px",backgroundColor:"#02203A",zIndex:99,display:r?"none":"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",boxShadow:"0 0 20px grey",borderRadius:"1rem",justifySelf:"center",alignSelf:"center"},variants:h,initial:"hidden",animate:"show",exit:"exit",children:[Object(m.jsxs)("h2",{style:{color:t},children:[n," (",function(){var e="";return e+=t[0].toUpperCase(),e+=t.slice(1,t.length)}(),") Won"]}),Object(m.jsx)(v.a,{variant:"contained",style:{backgroundColor:"#2980B9",color:"white"},children:"Rematch"})]})})})},j=n(13),g=function(e,t){return"".concat(e,",").concat(t)},p=function(e){return new Array(e).fill(0).map((function(){return new Array(e).fill(0)}))},O=function e(t,n){var i=this;Object(j.a)(this,e),this.color=void 0,this.row=void 0,this.col=void 0,this.isKing=void 0,this.oppColor=void 0,this.currentRow=void 0,this.currentCol=void 0,this.moves=void 0,this.makeKing=function(){return i.isKing=!0},this.setRowCol=function(e,t){i.currentRow=e,i.currentCol=t,i.row<2?7===i.currentRow&&i.makeKing():0===i.currentRow&&i.makeKing()},this.getCaptuingMoves=function(t){var n,o,c=[2,-2],r=[1,-1];i.row<2?(n=[2],o=[1]):(n=[-2],o=[-1]),i.isKing&&(n=[2,-2],o=[1,-1]),n.forEach((function(n,a){i.currentRow+n>=0&&i.currentRow+n<t.length&&c.forEach((function(c,s){if(i.currentCol+c>=0&&i.currentCol+c<t[0].length){var l=i.currentRow+n,d=i.currentCol+c;if(0===t[l][d]){var u=i.currentRow+o[a],h=i.currentCol+r[s],v=t[u][h];v instanceof e&&v.color===i.oppColor&&(i.moves[g(l,d)]={capturing:{row:u,col:h}})}}}))}))},this.validMoves=function(e){var t;i.moves={};var n=[1,-1];t=i.row<2?[1]:[-1],i.isKing&&(t=[1,-1]);for(var o=0;o<t.length;o++){var c=t[o];if(i.currentRow+c>=0&&i.currentRow+c<e.length)for(var r=0;r<n.length;r++){var a=n[r];if(i.currentCol+a>=0&&i.currentCol+a<e[0].length){var s=i.currentRow+c,l=i.currentCol+a;0===e[s][l]&&(i.moves[g(s,l)]="valid")}}}return i.getCaptuingMoves(e),i.moves},this.color=t,this.isKing=!1,this.row=n[0],this.col=n[1],this.oppColor="red"===this.color?"white":"red",this.currentRow=n[0],this.currentCol=n[1],this.moves={}},w=function(e){var t=e.game,n=e.image,o=e.row,c=e.col,r=e.color,a=e.isClicked,s=e.blueDot,l=e.redDot,d=e.boardRef,h=e.userChessColor,v=e.userCheckersColor,b=e.testBoard,j=e.showMoves,g=Object(i.useRef)(null),p=a?"rgba(240, 147, 43, 0.5)":null,O="chess"===t?65:40,w={width:f,height:f,backgroundColor:r,padding:0,margin:0,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},k={backgroundColor:p||"transparent",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",boxShadow:l?"inset 0px 0px 20px 5px rgb(255, 0, 0)":""},C={height:O,width:O,zIndex:500},x={borderRadius:"50%",border:"3px solid ".concat(s&&"rgb(41, 128, 185)"),backgroundColor:"".concat(s&&"rgb(41, 128, 185)"),height:20,width:20,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return Object(m.jsx)("div",{onMouseDown:function(){j(o,c)},style:w,ref:g,children:Object(m.jsxs)("div",{style:k,children:[(s||l)&&Object(m.jsx)("div",{style:x}),n&&Object(m.jsx)(u.a.img,{src:window.location.origin+"/"+n,style:C,alt:n,whileHover:{cursor:"grab"},drag:!0,dragConstraints:g,dragElastic:1,dragMomentum:!1,dragTransition:{bounceStiffness:600,bounceDamping:30},onDragEnd:function(e){return function(e){var t=e,n=t.clientX,i=t.clientY;if(null===d||void 0===d?void 0:d.current){var o=d.current.getBoundingClientRect(),c=Math.floor(Math.abs(o.top-i)/f),r=Math.floor(Math.abs(o.left-n)/f);if(b)return void j(c,r);if(h)switch(h){case"white":j(c,r);break;case"black":j(Math.abs(7-c),r)}else if(v)switch(v){case"red":j(c,r);break;case"white":j(Math.abs(7-c),r)}}}(e)}})]})})};w.defaultProps={testBoard:!1};var k,C,x,E=w,y=function(e){var t=e.board,n=e.checkersBoardRef,i=e.userPieceColor,o=e.testBoard,c=e.movePiece;return Object(m.jsx)(m.Fragment,{children:t.map((function(e,r){return Object(m.jsx)("div",{style:{margin:0,padding:0,display:"flex"},children:e.map((function(e,a){var s=(r+a)%2===0?"#222f3e":"#e74c3c",l="",d=t[r][a],u=!1;return d instanceof O?l="white"===d.color?d.isKing?"images/checkers/WhiteKing.png":"images/checkers/WhitePiece.png":d.isKing?"images/checkers/RedKing.png":"images/checkers/RedPiece.png":"dot"===d&&(u=!0),Object(m.jsx)(E,{game:"checkers",blueDot:u,row:r,col:a,color:s,image:l,showMoves:c,boardRef:n,userCheckersColor:i,testBoard:o},"row".concat(r,"-col").concat(a))}))},"row".concat(r))}))})},P=function e(){var t=this;Object(j.a)(this,e),this.cellsClicked=void 0,this.numClicks=void 0,this.turn=void 0,this.selected=void 0,this.redPiecesOnBoard=void 0,this.whitePiecesOnBoard=void 0,this.gameOver=void 0,this.winner=void 0,this.gameMoves=void 0,this.clearDots=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)"dot"===e[t][n]&&(e[t][n]=0)},this.showDots=function(e,t){Object.entries(t).forEach((function(t){var n=Object(l.a)(t,2),i=n[0],o=(n[1],i.split(",").map(Number)),c=Object(l.a)(o,2),r=c[0],a=c[1];e[r][a]="dot"}))},this.showValidMoves=function(e,n,i,o){var c=n[i][o];if(!(c instanceof O&&c.color!==e)){if(t.clearDots(n),c instanceof O&&c.color===t.turn){var r=c.validMoves(n);t.showDots(n,r)}return t.select(n,i,o)}},this.select=function(e,n,i){var o=e[n][i];if(0===t.numClicks){if(!(o instanceof O))return;if(o.color!==t.turn)return;return t.cellsClicked.rows.push(n),t.cellsClicked.cols.push(i),t.numClicks++,t.cellsClicked}if(1===t.numClicks){if(o instanceof O&&o.color===t.turn)return t.cellsClicked.rows[0]=n,t.cellsClicked.cols[0]=i,t.cellsClicked;var c=g(n,i),r=e[t.cellsClicked.rows[0]][t.cellsClicked.cols[0]].validMoves(e);if(!(c in r))return;return t.cellsClicked.rows.push(n),t.cellsClicked.cols.push(i),t.movePiece(e,t.cellsClicked,r)}},this.generateGameMove=function(e,n){var i="",o=Object(l.a)(e.rows,2),c=o[0],r=o[1],a=Object(l.a)(e.cols,2),s=a[0],d=a[1],u=Object(l.a)(n.capturedPiecePos,2);u[0],u[1];n.wasCapturingMove,i+="".concat(g(c,r),";").concat(g(s,d),":"),t.gameMoves+=i},this.getMoves=function(){return t.gameMoves},this.movePiece=function(e,n,i){var o=n.rows,c=n.cols,r=Object(l.a)(o,2),a=r[0],s=r[1],d=Object(l.a)(c,2),u=d[0],h=d[1],v=e[a][u];i||(i=v.validMoves(e));var f=i[g(s,h)],m=!1,b=[-1,-1];if("valid"===f)v.setRowCol(s,h),e[a][u]=0,e[s][h]=v;else{m=!0;var j=f.capturing,p=j.row,O=j.col,w=e[p][O];v.setRowCol(s,h),w.isKing&&v.makeKing(),"white"===w.color?t.whitePiecesOnBoard--:"red"===w.color&&t.redPiecesOnBoard--,e[a][u]=0,e[p][O]=0,e[s][h]=v,b=[p,O]}var k=t.cellsClicked;return t.generateGameMove(k,{wasCapturingMove:m,capturedPiecePos:b}),t.clearDots(e),t.changeTurn(),k},this.colorHasMovesLeft=function(e,t){for(var n=0;n<e.length;n++)for(var i=0;i<e.length;i++){var o=e[n][i];if(o instanceof O&&o.color===t){var c=o.validMoves(e);if(Object.keys(c).length>0)return!0}}return!1},this.redWins=function(){return t.gameOver=!0,t.winner="red",t.gameOver},this.whiteWins=function(){return t.gameOver=!0,t.winner="white",t.gameOver},this.isGameOver=function(e){if("red"===t.turn){if(0===t.redPiecesOnBoard)return t.whiteWins()}else if(0===t.whitePiecesOnBoard)return t.redWins();return t.colorHasMovesLeft(e,"red")?!t.colorHasMovesLeft(e,"white")&&t.redWins():t.whiteWins()},this.changeTurn=function(){t.cellsClicked={rows:[],cols:[]},t.numClicks=0,t.turn="white"===t.turn?"red":"white"},this.cellsClicked={rows:[],cols:[]},this.numClicks=0,this.turn="white",this.selected=null,this.redPiecesOnBoard=8,this.whitePiecesOnBoard=8,this.gameOver=!1,this.winner=null,this.gameMoves=""},S=function(){for(var e=new Array(8).fill(0).map((function(e){return new Array(8).fill(0)})),t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t<2&&(0===t&&n%2===0||1===t&&n%2!==0)&&(e[t][n]=new O("white",[t,n])),t>5&&(6===t&&n%2===0||7===t&&n%2!==0)&&(e[t][n]=new O("red",[t,n]));return e},I=n(126),_=n.n(I).a.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}}),N=n(23),R=N.c,M=new P,K=function(){var e=R((function(e){return e})).user,t=Object(i.useState)((function(){return S()})),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(i.useState)({gameOver:!1,winnerName:"",winnerColor:""}),a=Object(l.a)(r,2),s=a[0],d=a[1],u=Object(i.useState)("white"),h=Object(l.a)(u,2),f=h[0],j=h[1],g=Object(i.useRef)(null);return Object(m.jsx)("div",{style:{marginLeft:"4rem",display:"flex"},children:Object(m.jsxs)("div",{id:"checkersBoard",style:{position:"relative"},children:[s.gameOver&&Object(m.jsx)(b,{winnerColor:s.winnerColor,winnerName:s.winnerName}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column"},ref:g,children:Object(m.jsx)(y,{board:o,checkersBoardRef:g,userPieceColor:f,testBoard:!0,movePiece:function(t,n){if(!s.gameOver){var i=o.map((function(e){return e})),r=M.showValidMoves(f,i,t,n);if(c(i),2===(null===r||void 0===r?void 0:r.cols.length)&&j((function(e){return"white"===e?"red":"white"})),M.isGameOver(o)){var a=M.winner===f?e.username:"player2Name",l={gameOver:!0,winnerColor:M.winner,winnerName:a};d(l)}}}})}),Object(m.jsx)(v.a,{variant:"contained",onClick:function(){var t=JSON.stringify({player1:e.username,player2:"Johan",moves:M.getMoves()});console.log(t),_.post("/games/checkers/savegame",t).then((function(e){return console.log(e.data)}))},children:"Analyze"})]})})},T=n(84),A=n.n(T),B=n(85),L=n.n(B),D=n(25),H=n(24),W=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this)).movesList=void 0,i.currentMove=void 0,i.playNextMove=function(e){if(!(i.currentMove>=i.movesList.length)){var t=i.movesList[i.currentMove];i.movePiece(e,t),i.currentMove++}},i.movesList=e,i.currentMove=0,i}return n}(P),G=n(246),F=n(247),U=n(248),V={width:"95%",minHeight:"92vh",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap"},z={width:"65%",display:"flex",justifyContent:"center"},Y={display:"flex",justifyContent:"center",flexDirection:"column",height:"100%"},q=Object(G.a)((function(e){return{root:{"& .MuiInputBase-root.MuiFilledInput-root.MuiInputBase-fullWidth":{backgroundColor:"rgba(0, 0, 0, 0.5)"},"& label.MuiInputLabel-formControl":{top:5,left:15}}}})),J=Object(G.a)((function(e){return{root:{height:"475px",marginTop:"1rem"},messagesContainer:{height:"90%",maxHeight:"90%",backgroundColor:"#222f3e",overflow:"auto"},inputContainer:{"& .MuiFilledInput-underline:after":{borderBottomColor:"white"},"& .MuiFilledInput-root ":{borderTop:"2px solid white",backgroundColor:"#222f3e",color:"white"},"& .MuiInputBase-root.MuiFilledInput-root.MuiInputBase-formControl":{borderRadius:0}}}})),Q=Object(G.a)((function(e){return{listItem:{"&:hover":{backgroundColor:"#0b1622",color:"#0984e3",cursor:"pointer"}},listItemClicked:{backgroundColor:"#0b1622",color:"#0984e3"}}})),X=function(){var e=J(),t=Q(),n=R((function(e){return e})).user,o=Object(i.useState)((function(){return S()})),c=Object(l.a)(o,2),r=c[0],a=c[1],s=Object(i.useState)([]),d=Object(l.a)(s,2),u=d[0],h=d[1],j=Object(i.useState)(-1),g=Object(l.a)(j,2),p=g[0],O=g[1],w=Object(i.useState)(!1),C=Object(l.a)(w,2),x=C[0],E=C[1],P=Object(i.useState)({gameOver:!1,winnerName:"",winnerColor:""}),I=Object(l.a)(P,2),N=I[0],M=(I[1],Object(i.useState)("white")),K=Object(l.a)(M,2),T=K[0],B=(K[1],Object(i.useRef)(null)),D=function(e){E(!0),O(e);var t=u.find((function(t){return t.game_id===e}));a((function(){return S()}));var n=function(e){for(var t=[],n=e.split(":"),i=0;i<n.length-1;i++){var o=n[i].split(";"),c=o[0].split(",").map(Number),r=o[1].split(",").map(Number);t.push({rows:c,cols:r})}return t}(null===t||void 0===t?void 0:t.moves);k=new W(n)};return Object(m.jsx)("div",{style:{minWidth:"100vw",minHeight:"92vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{minWidth:"90%",display:"flex"},children:[Object(m.jsxs)("div",{id:"checkersBoard",style:{position:"relative"},children:[N.gameOver&&Object(m.jsx)(b,{winnerColor:N.winnerColor,winnerName:N.winnerName}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column"},ref:B,children:Object(m.jsx)(y,{board:r,checkersBoardRef:B,userPieceColor:T,testBoard:!0,movePiece:function(e,t){}})}),Object(m.jsxs)("div",{style:{padding:"0.5rem 0",display:"flex",justifyContent:"space-evenly"},children:[Object(m.jsx)(v.a,{variant:"contained",disabled:!x,children:Object(m.jsx)(A.a,{})}),Object(m.jsx)(v.a,{variant:"contained",children:"Analyze"}),Object(m.jsx)(v.a,{variant:"contained",onClick:function(){var e=r.map((function(e){return e}));k.playNextMove(e),a(e)},disabled:!x,children:Object(m.jsx)(L.a,{})})]})]}),Object(m.jsx)("div",{className:e.messagesContainer,style:{height:"".concat(f*r.length,"px"),width:"100%",borderLeft:"0.2rem solid gray"},children:Object(m.jsxs)(F.a,{style:{height:"".concat(f*r.length,"px"),display:"flex",flexDirection:"column",overflow:"auto"},children:[Object(m.jsx)("div",{style:{height:"90%"},children:u.map((function(e,n){return Object(m.jsxs)(U.a,{onClick:function(){D(e.game_id)},className:e.game_id===p?t.listItemClicked:t.listItem,children:[Object(m.jsx)("h5",{style:{width:"10%"},children:n+1}),Object(m.jsxs)("span",{style:{width:"60%"},children:[e.player1," vs ",e.player2]}),Object(m.jsx)("span",{style:{width:"30%"},children:"  "+e.date.split("T")[0]})]},e.game_id)}))}),Object(m.jsx)(U.a,{style:{height:"10%"},children:Object(m.jsx)(v.a,{variant:"contained",onClick:function(){_.get("/games/checkers/".concat(n.username)).then((function(e){return h(e.data.games)}))},children:"Get All Games"})})]})})]})})},Z=n(18),$=function(){var e=Object(i.useState)([window.innerWidth,window.innerHeight]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=function(e){e.preventDefault(),o([window.innerWidth,window.innerHeight])};return Object(i.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]),n},ee=n(29),te=function e(t,n,i){var o=this;Object(j.a)(this,e),this.color=void 0,this.row=void 0,this.col=void 0,this.moves=void 0,this.protectingMoves=void 0,this.isBeingAttacked=void 0,this.isClicked=void 0,this.pieceName=void 0,this.image=void 0,this.isKing=void 0,this.validMoves=function(e,t){return{}},this.getCellsBetweenPieces=function(e){return{}},this.checkIfKingInCheck=function(e){var t=e.whiteKingInCheck,n=e.blackKingInCheck;if("white"===o.color&&t){var i=e.whiteKingPos,c=e.pieceCheckingWhiteKing;o.moves=o.handleKingInCheck({kingPos:i,pieceCheckingKing:c})}if("black"===o.color&&n){var r=e.blackKingPos,a=e.pieceCheckingBlackKing;o.moves=o.handleKingInCheck({kingPos:r,pieceCheckingKing:a})}},this.handleKingInCheck=function(e){var t=e.kingPos,n=e.pieceCheckingKing,i={};if(n&&("knight"===n.pieceName||"pawn"===n.pieceName)){if(g(n.row,n.col)in o.moves){var c=g(n.row,n.col);return i[c]="capturing",i}return{}}if(n){var r=n.getCellsBetweenPieces(t);"king"===o.pieceName?(console.log("king moves = ",o.moves),Object.keys(o.moves).forEach((function(e){e in r||(i[e]="valid"),e===g(n.row,n.col)&&(i[e]="capturing")}))):Object.keys(o.moves).forEach((function(e){e in r&&(i[e]="valid"),e===g(n.row,n.col)&&(i[e]="capturing")}))}return i},this.handlePiecePinnedByRook=function(t,n){var i,c={},r=t.blackKingPos,a=t.whiteKingPos,s="white"===o.color?"black":"white";if(i="black"===o.color?r:a,o.row===i[0]&&o.col===i[1])if(o.row===i[0]){var l=0,d=!1;i[1]<o.col?l=1:i[1]>o.col&&(l=-1);for(var u=o.col+l;u>-1&&u<8;){var h=n[o.row][u];h instanceof e&&("rook"===h.pieceName||"queen"===h.pieceName)&&h.color===s&&(d=!0),u+=l}d&&(Object.keys(o.moves).forEach((function(e){Number(e.split(",")[0])===o.row&&(c[e]=o.moves[e])})),o.moves=c)}else if(o.col===i[1]){var v=0,f=!1;i[0]<o.row?v=1:i[0]>o.row&&(v=-1);for(var m=o.row+v;m>-1&&m<8;){var b=n[m][o.col];b instanceof e&&("rook"===b.pieceName||"queen"===b.pieceName)&&b.color===s&&(f=!0),m+=v}f&&(Object.keys(o.moves).forEach((function(e){Number(e.split(",")[1])===o.col&&(c[e]=o.moves[e])})),o.moves=c)}},this.handlePiecePinnedByBishop=function(t,n){var i,c={},r=t.blackKingPos,a=t.whiteKingPos,s="white"===o.color?"black":"white";if(i="black"===o.color?r:a,Math.abs(o.row-i[0])===Math.abs(o.col-i[1])){var d=0,u=0,h=i,v=Object(l.a)(h,2),f=v[0],m=v[1];f<o.row&&m<o.col?(d=1,u=1):f<o.row&&m>o.col?(d=1,u=-1):f>o.row&&m<o.col?(d=-1,u=1):f>o.row&&m>o.col&&(d=-1,u=-1);for(var b=o.row+d,j=o.col+u,p=!1,O=null;b>-1&&b<8&&j>-1&&j<8;){var w=n[b][j];w instanceof e&&w.color===s&&("bishop"!==w.pieceName&&"queen"!==w.pieceName||(p=!0,O=w)),b+=d,j+=u}if(p&&O){var k=O.getCellsBetweenPieces(i);Object.keys(o.moves).forEach((function(e){e in k&&(c[e]=o.moves[e]),e===g(O.row,O.col)&&(c[e]=o.moves[e])})),o.moves=c}}},this.setRowCol=function(e,t){o.row=e,o.col=t},this.resetMoves=function(){o.moves={},o.protectingMoves={}},this.color=t,this.row=n,this.col=i,this.moves={},this.protectingMoves={},this.isBeingAttacked=!1,this.isClicked=!1,this.pieceName="pawn",this.image="",this.isKing=!1,this.setRowCol(n,i)},ne=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i,o){var c;return Object(j.a)(this,n),(c=t.call(this,e,i,o)).hasMoved=void 0,c.potentialCapturingMoves=void 0,c.setHasMoved=function(){"black"===c.color&&1!==c.row&&(c.hasMoved=!0),"white"===c.color&&6!==c.row&&(c.hasMoved=!0)},c.validMoves=function(e,t){c.resetMoves();var n="black"===c.color?1:-1;if(c.hasMoved||0!==e[c.row+n][c.col]||0===e[c.row+2*n][c.col]&&(c.moves[g(c.row+2*n,c.col)]="valid"),c.row+n>=0&&c.row+n<8){if(0===e[c.row+n][c.col]&&(c.moves[g(c.row+n,c.col)]="valid"),c.col+1<8){var i=e[c.row+n][c.col+1];i instanceof te?i.color!==c.color?c.moves[g(c.row+n,c.col+1)]="capturing":c.protectingMoves[g(c.row+n,c.col+1)]="protecting":0===i&&(c.potentialCapturingMoves[g(c.row+n,c.col+1)]="potentialCapture")}if(c.col-1>=0){var o=e[c.row+n][c.col-1];o instanceof te?o.color!==c.color?c.moves[g(c.row+n,c.col-1)]="capturing":c.protectingMoves[g(c.row+n,c.col-1)]="protecting":0===o&&(c.potentialCapturingMoves[g(c.row+n,c.col-1)]="potentialCapture")}}return c.checkIfKingInCheck(t),c.handlePiecePinnedByRook(t,e),c.handlePiecePinnedByBishop(t,e),c.moves},c.setRowCol=function(e,t){c.row=e,c.col=t,c.hasMoved=!0},c.hasMoved=!1,c.pieceName="pawn",c.image="images/chess/".concat(c.color,"Pawn.png"),c.potentialCapturingMoves={},c.setHasMoved(),c}return Object(ee.a)(n,[{key:"display",value:function(){return this.color[0].toUpperCase()+"P"}}]),n}(te),ie=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i,o){var c;return Object(j.a)(this,n),(c=t.call(this,e,i,o)).hasMoved=void 0,c.getCellsBetweenPieces=function(e){var t=0,n=0,i=e[0],o=e[1],r={};if(i<c.row&&o===c.col?(t=-1,n=0):i>c.row&&o===c.col?(t=1,n=0):i===c.row&&o<c.col?(t=0,n=-1):i===c.row&&o>c.col&&(t=0,n=1),0!==t)for(var a=c.row+t;a!==i;a+=t)r[g(a,c.col)]="valid";if(0!==n)for(var s=c.col+n;s!==o;s+=n)r[g(c.row,s)]="valid";return r},c.validMoves=function(e,t){c.resetMoves();for(var n=c.col-1;n>=0;n--){var i=e[c.row][n];if(i instanceof te){if(i.color===c.color){c.protectingMoves[g(c.row,n)]="protecting";break}c.moves[g(c.row,n)]="capturing";break}c.moves[g(c.row,n)]="valid"}for(var o=c.col+1;o<8;o++){var r=e[c.row][o];if(r instanceof te){if(r.color===c.color){c.protectingMoves[g(c.row,o)]="protecting";break}c.moves[g(c.row,o)]="capturing";break}c.moves[g(c.row,o)]="valid"}for(var a=c.row-1;a>=0;a--){var s=e[a][c.col];if(s instanceof te){if(s.color===c.color){c.protectingMoves[g(a,c.col)]="protecting";break}c.moves[g(a,c.col)]="capturing";break}c.moves[g(a,c.col)]="valid"}for(var l=c.row+1;l<8;l++){var d=e[l][c.col];if(d instanceof te){if(d.color===c.color){c.protectingMoves[g(l,c.col)]="protecting";break}if(d.color!==c.color){c.moves[g(l,c.col)]="capturing";break}}c.moves[g(l,c.col)]="valid"}return c.checkIfKingInCheck(t),c.handlePiecePinnedByRook(t,e),c.handlePiecePinnedByBishop(t,e),c.moves},c.setRowCol=function(e,t){c.row=e,c.col=t,c.hasMoved=!0},c.pieceName="rook",c.hasMoved=!1,c.image="images/chess/".concat(c.color,"Rook.png"),c}return n}(te),oe=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i,o){var c;return Object(j.a)(this,n),(c=t.call(this,e,i,o)).validMoves=function(e,t){c.resetMoves();for(var n=[-2,-1,1,2],i=[1,2,2,1],o=0;o<4;o++)if(c.col+n[o]>=0&&c.col+n[o]<8){if(c.row-i[o]>=0){var r=e[c.row-i[o]][c.col+n[o]];0===r?c.moves[g(c.row-i[o],c.col+n[o])]="valid":r instanceof te&&r.color!==c.color?c.moves[g(c.row-i[o],c.col+n[o])]="capturing":r instanceof te&&r.color===c.color&&(c.protectingMoves[g(c.row-i[o],c.col+n[o])]="protecting")}if(c.row+i[o]<8){var a=e[c.row+i[o]][c.col+n[o]];0===a?c.moves[g(c.row+i[o],c.col+n[o])]="valid":a instanceof te&&a.color!==c.color?c.moves[g(c.row+i[o],c.col+n[o])]="capturing":a instanceof te&&a.color===c.color&&(c.protectingMoves[g(c.row+i[o],c.col+n[o])]="protecting")}}return c.checkIfKingInCheck(t),c.handlePiecePinnedByRook(t,e),c.handlePiecePinnedByBishop(t,e),c.moves},c.pieceName="knight",c.image="images/chess/".concat(c.color,"Knight.png"),c}return Object(ee.a)(n,[{key:"display",value:function(){return this.color[0].toUpperCase()+"Kn"}}]),n}(te),ce=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i,o){var c;return Object(j.a)(this,n),(c=t.call(this,e,i,o)).upperRight=function(e){for(var t=c.col,n=c.row-1;n>=0&&7!==t;n--){t++;var i=e[n][t];if(i instanceof te)return i.color===c.color?void(c.protectingMoves[g(n,t)]="protecting"):void(c.moves[g(n,t)]="capturing");c.moves[g(n,t)]="valid"}},c.lowerRight=function(e){for(var t=c.col,n=c.row+1;n<8&&7!==t;n++){t++;var i=e[n][t];if(i instanceof te)return i.color===c.color?void(c.protectingMoves[g(n,t)]="protecting"):void(c.moves[g(n,t)]="capturing");c.moves[g(n,t)]="valid"}},c.upperLeft=function(e){for(var t=c.col,n=c.row-1;n>=0&&0!==t;n--){t--;var i=e[n][t];if(i instanceof te)return i.color===c.color?void(c.protectingMoves[g(n,t)]="protecting"):void(c.moves[g(n,t)]="capturing");c.moves[g(n,t)]="valid"}},c.lowerLeft=function(e){for(var t=c.col,n=c.row+1;n<8&&0!==t;n++){t--;var i=e[n][t];if(i instanceof te)return i.color===c.color?void(c.protectingMoves[g(n,t)]="protecting"):void(c.moves[g(n,t)]="capturing");c.moves[g(n,t)]="valid"}},c.getCellsBetweenPieces=function(e){var t=0,n=0,i=e[0],o=e[1],r={};i<c.row&&o<c.col?(t=-1,n=-1):i<c.row&&o>c.col?(t=-1,n=1):i>c.row&&o<c.col?(t=1,n=-1):i>c.row&&o>c.col&&(t=1,n=1);for(var a=c.row+t,s=c.col+n;a!==i&&s!==o;)r[g(a,s)]="valid",a+=t,s+=n;return r},c.validMoves=function(e,t){return c.resetMoves(),c.upperRight(e),c.lowerRight(e),c.upperLeft(e),c.lowerLeft(e),c.checkIfKingInCheck(t),c.handlePiecePinnedByRook(t,e),c.handlePiecePinnedByBishop(t,e),c.moves},c.pieceName="bishop",c.image="images/chess/".concat(c.color,"Bishop.png"),c}return Object(ee.a)(n,[{key:"display",value:function(){return this.color[0].toUpperCase()+"B"}}]),n}(te),re=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i,o){var c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object(j.a)(this,n),(c=t.call(this,e,i,o)).hasMoved=void 0,c.invalidMoves=void 0,c.canCastleLeft=void 0,c.canCastleRight=void 0,c.notAllowKingToMoveToAttackedCell=function(e){for(var t={},n={},i=e.cellsUnderAttackByWhite,o=e.cellsUnderAttackByBlack,r="white"===c.color?o:i,a=Object.keys(c.moves),s=Object.keys(r),l=0;l<a.length;l++){for(var d=!0,u=0;u<s.length;u++)if(a[l]in r[s[u]]){d=!1;break}d?t[a[l]]=c.moves[a[l]]:n[a[l]]="invalid"}return c.invalidMoves=n,t},c.isPathBetweenRookAndKingBlocked=function(e,t){var n="white"===t?7:0,i={leftBlocked:!1,rightBlocked:!1};return[1,2,3].forEach((function(t){e[n][t]instanceof te&&(i.leftBlocked=!0)})),[5,6].forEach((function(t){e[n][t]instanceof te&&(i.rightBlocked=!0)})),i},c.isRookPresent=function(e,t){var n="white"===t?7:0,i=e[n][0],o=e[n][7];return(i instanceof ie||o instanceof ie)&&(!(i instanceof ie&&i.hasMoved)&&!(o instanceof ie&&o.hasMoved))},c.addCastlingMoves=function(e,t){if(null!==c.canCastleLeft||null!==c.canCastleRight)return!0===c.canCastleLeft&&(c.moves[g(c.row,c.col-2)]="castling"),void(!0===c.canCastleRight&&(c.moves[g(c.row,c.col+2)]="castling"));var n=t.whiteKingInCheck,i=t.blackKingInCheck;if(!c.hasMoved)if("white"===c.color){if(n)return;if(7!==c.row)return;if(!c.isRookPresent(e,c.color))return;var o=c.isPathBetweenRookAndKingBlocked(e,c.color),r=o.leftBlocked,a=o.rightBlocked;if(r&&a)return;r||(c.moves[g(c.row,c.col-2)]="castling"),a||(c.moves[g(c.row,c.col+2)]="castling")}else{if(i)return;if(0!==c.row)return;if(!c.isRookPresent(e,c.color))return;var s=c.isPathBetweenRookAndKingBlocked(e,c.color),l=s.leftBlocked,d=s.rightBlocked;if(l&&d)return;l||(c.moves[g(c.row,c.col-2)]="castling"),d||(c.moves[g(c.row,c.col+2)]="castling")}},c.handleKingInCheckByRook=function(e){var t=e.pieceCheckingKing;if(t){for(var n={},i={},o=t.row+1,r=t.col;o>-1;)i[g(o,r)]=!0,o--;for(o=t.row-1;o<8;)i[g(o,r)]=!0,o++;for(o=t.row,r=t.col-1;r>-1;)i[g(o,r)]=!0,r--;for(r=t.col+1;r<8;)i[g(o,r)]=!0,r++;Object.keys(c.moves).forEach((function(e){e in i||(n[e]=c.moves[e])}));var a=g(t.row,t.col);a in c.moves&&(n[a]=c.moves[a]),c.moves=n}},c.handleKingInCheckByBishop=function(e){var t=e.pieceCheckingKing;if(t){for(var n={},i=t.row-1,o=t.col-1;i>-1&&o>-1;)n[g(i,o)]=!0,i--,o--;for(i=t.row-1,o=t.col+1;i>-1&&o<8;)n[g(i,o)]=!0,i--,o++;for(i=t.row+1,o=t.col-1;i<8&&o>-1;)n[g(i,o)]=!0,i++,o--;for(i=t.row+1,o=t.col+1;i<8&&o<8;)n[g(i,o)]=!0,i++,o++;var r={};Object.keys(c.moves).forEach((function(e){e in n||(r[e]=c.moves[e])}));var a=g(t.row,t.col);a in c.moves&&(r[a]=c.moves[a]),c.moves=r}},c.handleKingInCheckByQueen=function(e){c.handleKingInCheckByRook(e),c.handleKingInCheckByBishop(e)},c.validMoves=function(e,t){c.resetMoves();var n=[[-1,0,1],[-1,1],[-1,0,1]];[c.col-1,c.col,c.col+1].forEach((function(t,i){t>-1&&t<8&&n[i].forEach((function(n){if(c.row+n>-1&&c.row+n<8){var i=e[c.row+n][t];0===i?c.moves[g(c.row+n,t)]="valid":i instanceof te&&i.color!==c.color?c.moves[g(c.row+n,t)]="capturing":i instanceof te&&i.color===c.color&&(c.protectingMoves[g(c.row+n,t)]="protecting")}}))})),c.addCastlingMoves(e,t);var i=t.pieceCheckingWhiteKing,o=t.pieceCheckingBlackKing,r=t.blackKingPos,a=t.whiteKingPos;if("white"===c.color&&i){var s={pieceCheckingKing:i,kingPos:a};"rook"===i.pieceName?c.handleKingInCheckByRook(s):"bishop"===i.pieceName?c.handleKingInCheckByBishop(s):"queen"===i.pieceName&&c.handleKingInCheckByQueen(s)}else if("black"===c.color&&o){var l={pieceCheckingKing:o,kingPos:r};"rook"===o.pieceName?c.handleKingInCheckByRook(l):"bishop"===o.pieceName?c.handleKingInCheckByBishop(l):"queen"===o.pieceName&&c.handleKingInCheckByQueen(l)}return c.moves=c.notAllowKingToMoveToAttackedCell(t),c.moves},c.setRowCol=function(e,t){c.row=e,c.col=t,c.hasMoved=!0},c.pieceName="king",c.image="images/chess/".concat(c.color,"King.png"),c.isKing=!0,c.hasMoved=!1,c.invalidMoves={},c.canCastleLeft=r,c.canCastleRight=a,c}return Object(ee.a)(n,[{key:"display",value:function(){return this.color[0].toUpperCase()+"K"}}]),n}(te),ae=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i,o){var c;return Object(j.a)(this,n),(c=t.call(this,e,i,o)).rook=void 0,c.bishop=void 0,c.getCellsBetweenPieces=function(e){var t=c.rook.getCellsBetweenPieces(e),n=c.bishop.getCellsBetweenPieces(e);return Object(a.a)(Object(a.a)({},t),n)},c.validMoves=function(e,t){c.resetMoves();var n=c.rook.validMoves(e,t),i=c.bishop.validMoves(e,t);return c.moves=Object(a.a)(Object(a.a)({},n),i),c.protectingMoves=Object(a.a)(Object(a.a)({},c.rook.protectingMoves),c.bishop.protectingMoves),c.moves},c.setRowCol=function(e,t){c.row=e,c.rook.row=e,c.bishop.row=e,c.col=t,c.rook.col=t,c.bishop.col=t},c.pieceName="queen",c.rook=new ie(c.color,c.row,c.col),c.bishop=new ce(c.color,c.row,c.col),c.image="images/chess/".concat(c.color,"Queen.png"),c}return Object(ee.a)(n,[{key:"display",value:function(){return this.color[0].toUpperCase()+"Q"}}]),n}(te),se=function(){return[[new ie("black",0,0),new oe("black",0,1),new ce("black",0,2),new ae("black",0,3),new re("black",0,4),new ce("black",0,5),new oe("black",0,6),new ie("black",0,7)],[new ne("black",1,0),new ne("black",1,1),new ne("black",1,2),new ne("black",1,3),new ne("black",1,4),new ne("black",1,5),new ne("black",1,6),new ne("black",1,7)],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[new ne("white",6,0),new ne("white",6,1),new ne("white",6,2),new ne("white",6,3),new ne("white",6,4),new ne("white",6,5),new ne("white",6,6),new ne("white",6,7)],[new ie("white",7,0),new oe("white",7,1),new ce("white",7,2),new ae("white",7,3),new re("white",7,4),new ce("white",7,5),new oe("white",7,6),new ie("white",7,7)]]},le={pawn:"",knight:"N",bishop:"B",rook:"R",queen:"Q",king:"K"},de=Object.freeze({STALEMATE:"Stalemate",INSUFFICIENT_PIECES:"Insufficient Pieces"}),ue=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[7,4],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,4];Object(j.a)(this,e),this.turn=void 0,this.cellsClicked=void 0,this.numClicks=void 0,this.selected=void 0,this.blackKingInCheck=void 0,this.whiteKingInCheck=void 0,this.pieceCheckingWhiteKing=void 0,this.pieceCheckingBlackKing=void 0,this.whiteKingPos=void 0,this.blackKingPos=void 0,this.cellsUnderAttackByWhite=void 0,this.cellsUnderAttackByBlack=void 0,this.kingParams=void 0,this.gameOver=void 0,this.winner=void 0,this.piecePoints=void 0,this.whitePiecesValue=void 0,this.blackPiecesValue=void 0,this.whitePiecesOnBoard=void 0,this.blackPiecesOnBoard=void 0,this.allGameMoves=void 0,this.pgn=void 0,this.movesString=void 0,this.initialPieces=function(){return{king:1,queen:1,knight:2,bishop:2,rook:2,pawn:8}},this.setKingParams=function(){t.kingParams={whiteKingInCheck:t.whiteKingInCheck,blackKingInCheck:t.blackKingInCheck,whiteKingPos:t.whiteKingPos,blackKingPos:t.blackKingPos,pieceCheckingWhiteKing:t.pieceCheckingWhiteKing,pieceCheckingBlackKing:t.pieceCheckingBlackKing,cellsUnderAttackByWhite:t.cellsUnderAttackByWhite,cellsUnderAttackByBlack:t.cellsUnderAttackByBlack}},this.clearDots=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t][n];"dot"===i&&(e[t][n]=0),i instanceof te&&(i.isBeingAttacked&&(i.isBeingAttacked=!1),i.isClicked&&(i.isClicked=!1))}},this.showDots=function(e,t){Object.keys(t).forEach((function(n){var i=n.split(",").map((function(e){return Number(e)})),o=Object(l.a)(i,2),c=o[0],r=o[1];"valid"===t[n]?e[c][r]="dot":"capturing"===t[n]?e[c][r].isBeingAttacked=!0:"castling"===t[n]&&(e[c][r]="dot")}))},this.showValidMoves=function(e,n,i,o){if(!(n[i][o]instanceof te&&n[i][o].color!==e&&0===t.numClicks)){t.clearDots(n);var c=n[i][o];return c instanceof te&&c.color===t.turn&&(t.showDots(n,c.validMoves(n,t.kingParams)),c.isClicked=!0),t.select(n,i,o)}},this.handlePawnPromotion=function(e){return 0===e.row||7===e.row},this.changePawnToPiece=function(e,t,n,i,o){switch(t){case"queen":e[i][o]=new ae(n,i,o);break;case"rook":e[i][o]=new ie(n,i,o);break;case"bishop":e[i][o]=new ce(n,i,o);break;case"knight":e[i][o]=new oe(n,i,o)}},this.promotePawn=function(e,n,i){t.generateMoveString(i,{promoted:!0,promotedTo:n});var o=i.rows,c=i.cols,r=Object(l.a)(o,2),a=r[0],s=r[1],d=Object(l.a)(c,2),u=d[0],h=d[1],v=e[s][h];if(v instanceof ne)e[s][h]=0,t.changePawnToPiece(e,n,v.color,s,h);else{var f=e[a][u];e[a][u]=0,t.changePawnToPiece(e,n,f.color,s,h)}t.whiteKingInCheck&&(t.whiteKingInCheck=!1,t.pieceCheckingWhiteKing=null),t.blackKingInCheck&&(t.blackKingInCheck=!1,t.pieceCheckingBlackKing=null),t.setKingParams(),t.setInitiallyAttackedCells(e),t.clearDots(e),t.changeTurn(),t.setKingInCheck(e,t.turn,e[s][h])},this.setKingInCheck=function(e,n,i){if("white"===n)g(t.whiteKingPos[0],t.whiteKingPos[1])in i.validMoves(e,t.kingParams)&&(t.whiteKingInCheck=!0,t.pieceCheckingWhiteKing=i);else if("black"===n){g(t.blackKingPos[0],t.blackKingPos[1])in i.validMoves(e,t.kingParams)&&(t.blackKingInCheck=!0,t.pieceCheckingBlackKing=i)}if(t.whiteKingInCheck){console.log("this.whiteKingInCheck");var o=Object(l.a)(t.whiteKingPos,2),c=o[0],r=o[1];e[c][r].isBeingAttacked=!0}if(t.blackKingInCheck){console.log("this.blackKingInCheck");var a=Object(l.a)(t.blackKingPos,2),s=a[0],d=a[1];e[s][d].isBeingAttacked=!0}t.setKingParams()},this.setInitiallyAttackedCells=function(e){t.cellsUnderAttackByBlack={},t.cellsUnderAttackByWhite={},t.whitePiecesOnBoard=t.initialPieces(),t.blackPiecesOnBoard=t.initialPieces(),t.whitePiecesValue=0,t.blackPiecesValue=0;for(var n=function(n){for(var i=function(i){var o=e[n][i];if(o instanceof te){var c=g(o.row,o.col),r={};"white"===o.color?(o.pieceName in t.whitePiecesOnBoard?t.whitePiecesOnBoard[o.pieceName]+=1:t.whitePiecesOnBoard[o.pieceName]=1,t.whitePiecesValue+=t.piecePoints[o.pieceName]):"black"===o.color&&(o.pieceName in t.blackPiecesOnBoard?t.blackPiecesOnBoard[o.pieceName]+=1:t.blackPiecesOnBoard[o.pieceName]=1,t.blackPiecesValue+=t.piecePoints[o.pieceName]),o instanceof ne?o.validMoves(e,t.kingParams,!0):o.validMoves(e,t.kingParams);var s={};s=o instanceof re?Object(a.a)(Object(a.a)({},o.moves),o.protectingMoves):o instanceof ne?Object(a.a)(Object(a.a)(Object(a.a)({},o.moves),o.protectingMoves),o.potentialCapturingMoves):Object(a.a)(Object(a.a)({},o.moves),o.protectingMoves),Object.keys(s).forEach((function(o){var c=e[n][i];c instanceof ne?"valid"!==s[o]&&(r[o]=s[o],"black"===c.color&&g.apply(void 0,Object(Z.a)(t.whiteKingPos))===o&&(console.log("key = ",o),console.log("getstr(whiteKingPos) = ",g.apply(void 0,Object(Z.a)(t.whiteKingPos))),t.whiteKingInCheck=!0,t.pieceCheckingWhiteKing=c),"white"===c.color&&g.apply(void 0,Object(Z.a)(t.blackKingPos))===o&&(console.log("key = ",o),console.log("getstr(blackKingPos) = ",g.apply(void 0,Object(Z.a)(t.blackKingPos))),t.blackKingInCheck=!0,t.pieceCheckingBlackKing=c)):c instanceof te&&(r[o]=s[o],"black"===c.color&&g.apply(void 0,Object(Z.a)(t.whiteKingPos))===o&&(t.whiteKingInCheck=!0,t.pieceCheckingWhiteKing=c),"white"===c.color&&g.apply(void 0,Object(Z.a)(t.blackKingPos))===o&&(t.blackKingInCheck=!0,t.pieceCheckingBlackKing=c))})),"white"===o.color?t.cellsUnderAttackByWhite[c]=r:t.cellsUnderAttackByBlack[c]=r}},o=0;o<e.length;o++)i(o)},i=0;i<e.length;i++)n(i);t.setKingParams(),t.isGameOver(e)},this.select=function(e,n,i){if(0===t.numClicks){var o=e[n][i];return o instanceof te?o.color!==t.turn?void 0:(t.cellsClicked.rows.push(n),t.cellsClicked.cols.push(i),t.numClicks++,t.cellsClicked):void 0}if(1===t.numClicks){var c=e[n][i];if(c instanceof te&&c.color===t.turn)return t.cellsClicked.rows[0]=n,t.cellsClicked.cols[0]=i,t.cellsClicked;var r=g(n,i),a=e[t.cellsClicked.rows[0]][t.cellsClicked.cols[0]];if(!(a instanceof te))return;if(!(r in a.validMoves(e,t.kingParams)))return;return t.cellsClicked.rows.push(n),t.cellsClicked.cols.push(i),t.movePiece(e,t.cellsClicked)}},this.getAllMoves=function(){return t.movesString},this.generateMoveString=function(e,n){var i=Object(l.a)(e.rows,2),o=i[0],c=i[1],r=Object(l.a)(e.cols,2),a=r[0],s=r[1],d="".concat(g(o,c),";").concat(g(a,s));t.movesString+=n?"".concat(d,"=").concat(n.promotedTo,":"):"".concat(d,":")},this.similarMoveByAnotherPiece=function(e){},this.generatePgn=function(e,n,i,o,c,r){var a="";if(c.castled)a="king"===c.side?"O-O":"O-O-O";else{var s=Object(l.a)(e.rows,2),d=(s[0],s[1]),u=Object(l.a)(e.cols,2),h=u[0],v=u[1],f=String.fromCharCode(v+97),m=7-d+1,b=String.fromCharCode(h+97),j=le[n],g="";o&&(g="x",0===j.length&&(g="".concat(b,"x"))),a="".concat(j).concat(g).concat(f).concat(m)}i in t.pgn?t.pgn[i]+=" "+a:t.pgn[i]=a},this.movePiece=function(e,n){var i=!1,o=!1,c="king",r=n.rows,a=n.cols,s=Object(l.a)(r,2),d=s[0],u=s[1],h=Object(l.a)(a,2),v=h[0],f=h[1],m=e[d][v],b=e[u][f]instanceof te;if(m instanceof re&&(f===v+2||f===v-2)?(t.castleKing(e,n),i=!0,c=f===v+2?"king":"queen"):(e[d][v]=0,e[u][f]=m),m.setRowCol(u,f),m instanceof re&&("white"===m.color?t.whiteKingPos=[m.row,m.col]:"black"===m.color&&(t.blackKingPos=[m.row,m.col])),t.whiteKingInCheck&&(t.whiteKingInCheck=!1,t.pieceCheckingWhiteKing=null),t.blackKingInCheck&&(t.blackKingInCheck=!1,t.pieceCheckingBlackKing=null),t.setKingParams(),m instanceof ne&&(o=t.handlePawnPromotion(m)))return{cellsClicked:t.cellsClicked,castlingDone:i,pawnPromoted:o};t.setInitiallyAttackedCells(e);var j=t.cellsClicked;t.clearDots(e),t.changeTurn(),t.setKingInCheck(e,t.turn,m),t.allGameMoves.push(j);var g=Math.ceil(t.allGameMoves.length/2);return t.generatePgn(j,m.pieceName,g,b,{castled:i,side:c}),t.generateMoveString(j),{cellsClicked:j,castlingDone:i,pawnPromoted:o}},this.castleKing=function(e,t){var n=t.rows,i=t.cols,o=Object(l.a)(n,2),c=o[0],r=o[1],a=Object(l.a)(i,2),s=a[0],d=a[1],u=e[c][s],h=d<s?0:7,v=d<s?1:-1,f=e[c][h];f instanceof ie&&(e[r][d]=u,e[c][s]=0,e[r][d+v]=f,e[c][h]=0,f.setRowCol(r,d+v))},this.colorHasMovesLeft=function(e,n){for(var i=0;i<e.length;i++)for(var o=0;o<e.length;o++){var c=e[i][o];if(c instanceof te&&c.color===n){var r=c.validMoves(e,t.kingParams);if("king"===c.pieceName&&console.log(c.color+" "+c.pieceName,r),Object.keys(r).length>0)return!0}}return!1},this.blackWins=function(){return t.gameOver=!0,t.winner="black",t.gameOver},this.whiteWins=function(){return t.gameOver=!0,t.winner="white",t.gameOver},this.draw=function(e){return t.gameOver=!0,t.winner="Draw by ".concat(e),t.gameOver},this.isGameOver=function(e){return(0!==t.whitePiecesValue&&3!==t.whitePiecesValue||0!==t.blackPiecesValue&&3!==t.blackPiecesValue)&&(0!==t.blackPiecesValue&&3!==t.blackPiecesValue||0!==t.whitePiecesValue&&3!==t.whitePiecesValue)?t.colorHasMovesLeft(e,"white")?!t.colorHasMovesLeft(e,"black")&&(console.log("no black moves left"),t.blackKingInCheck?t.whiteWins():t.draw(de.STALEMATE)):(console.log("no white moves left"),t.whiteKingInCheck?t.blackWins():t.draw(de.STALEMATE)):t.draw(de.INSUFFICIENT_PIECES)},this.changeTurn=function(){t.cellsClicked={rows:[],cols:[]},t.numClicks=0,t.turn="white"===t.turn?"black":"white"},this.turn=n,this.cellsClicked={rows:[],cols:[]},this.numClicks=0,this.selected=null,this.whiteKingPos=i,this.blackKingPos=o,this.whiteKingInCheck=!1,this.blackKingInCheck=!1,this.pieceCheckingWhiteKing=null,this.pieceCheckingBlackKing=null,this.kingParams={},this.gameOver=!1,this.winner="",this.whitePiecesOnBoard=this.initialPieces(),this.blackPiecesOnBoard=this.initialPieces(),this.piecePoints={king:0,queen:9,knight:3,bishop:3,rook:5,pawn:1},this.whitePiecesValue=0,this.blackPiecesValue=0,this.cellsUnderAttackByWhite={},this.cellsUnderAttackByBlack={},this.allGameMoves=[],this.pgn={},this.movesString="",this.setKingParams()},he=function(e){var t=e.pawnColor,n=e.handlePawnPromotion,o=Object(i.useState)(!1),c=Object(l.a)(o,2),r=c[0],a=c[1],s=function(e){a(!0),n(e)};return Object(m.jsx)("div",{style:{width:"520px",height:"520px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99,position:"absolute",top:0,left:0},children:Object(m.jsx)(d.a,{children:Object(m.jsxs)(u.a.div,{style:{height:"100px",width:"300px",backgroundColor:"rgb(255,255,255)",zIndex:99,display:r?"none":"flex",justifyContent:"space-around",alignItems:"center",boxShadow:"0 0 20px grey",borderRadius:"1rem",justifySelf:"center",alignSelf:"center"},variants:h,initial:"hidden",animate:"show",exit:"exit",children:[Object(m.jsx)("div",{onClick:function(){return s("queen")},children:Object(m.jsx)("img",{src:"images/chess/".concat(t,"Queen.png"),alt:"".concat(t,"queen")})}),Object(m.jsx)("div",{onClick:function(){return s("rook")},children:Object(m.jsx)("img",{src:"images/chess/".concat(t,"Rook.png"),alt:"".concat(t,"rook")})}),Object(m.jsx)("div",{onClick:function(){return s("bishop")},children:Object(m.jsx)("img",{src:"images/chess/".concat(t,"Bishop.png"),alt:"".concat(t,"bishop")})}),Object(m.jsx)("div",{onClick:function(){return s("knight")},children:Object(m.jsx)("img",{src:"images/chess/".concat(t,"Knight.png"),alt:"".concat(t,"knight")})})]})})})},ve=function(e){var t=e.board,n=e.chessBoardRef,i=e.userPieceColor,o=e.testBoard,c=e.movePiece;return Object(m.jsx)(m.Fragment,{children:t.map((function(e,r){return Object(m.jsx)("div",{style:{margin:0,padding:0,display:"flex"},children:e.map((function(e,a){var s,l,d=(r+a)%2!==0?"rgba(195,105,56,0)":"rgba(239, 206,163,0)",u=t[r][a],h=!1;return"dot"===u&&(h=!0),u instanceof te&&(u.isBeingAttacked&&(s=!0),u.isClicked&&(l=!0)),Object(m.jsx)(E,{game:"chess",blueDot:h,redDot:s,isClicked:l,row:r,col:a,color:d,image:u instanceof te?u.image:"",boardRef:n,showMoves:c,userChessColor:i,testBoard:o},"row".concat(r,"-col").concat(a))}))},"row".concat(r))}))})},fe=new ue,me=function(){var e=R((function(e){return e})).user,t=Object(i.useState)((function(){return se()})),n=Object(l.a)(t,2),o=n[0],c=n[1],r=Object(i.useState)(!1),a=Object(l.a)(r,2),s=(a[0],a[1]),d=Object(i.useState)({gameOver:!1,winnerName:"",winnerColor:""}),h=Object(l.a)(d,2),j=h[0],g=h[1],O=Object(i.useState)({show:!1,cellsClicked:{},pawnColor:""}),w=Object(l.a)(O,2),k=w[0],C=w[1],x=Object(i.useState)("white"),E=Object(l.a)(x,2),y=E[0],P=E[1],S=($(),Object(i.useRef)([0,0])),I=Object(i.useRef)([0,0]),N=Object(i.useRef)(null),M=Object(i.useState)(""),K=Object(l.a)(M,2),T=(K[0],K[1],function(e){var t=N.current.getBoundingClientRect(),n=e.target.getBoundingClientRect(),i=Math.abs(t.top-n.top),r=Math.abs(t.left-n.left),a=Math.floor(i/f),s=Math.floor(r/f);if(!(a<0||a>7||s<0||s>7)&&"DIV"!==e.target.tagName){var l,d=e.target.getAttribute("src"),u=d.slice(d.lastIndexOf("/")+1);l=u.slice(0,5),function(e,t,n,i){var r=o.map((function(e){return e}));switch(e){case"queen":r[n][i]=new ae(t,n,i);break;case"rook":r[n][i]=new ie(t,n,i);break;case"bishop":r[n][i]=new ce(t,n,i);break;case"knight":r[n][i]=new oe(t,n,i);break;case"king":r[n][i]=new re(t,n,i),"white"===t?S.current=[n,i]:I.current=[n,i];break;case"pawn":r[n][i]=new ne(t,n,i)}c(r)}(u.split(".")[0].slice(5).toLowerCase().trim(),l,a,s)}});Object(i.useEffect)((function(){fe.setInitiallyAttackedCells(o)}),[]);var A=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c(e?function(){return p(8)}:function(){return se()}),s(!1),P("white")},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white";return{color:t,backgroundColor:e}},L=[{text:"Start Game",clickHandler:function(){fe=new ue("white",S.current,I.current),setTimeout((function(){fe.setInitiallyAttackedCells(o)}),500)},style:B("#16a085")},{text:"Reset Board",clickHandler:function(){A(!0)},style:B("#c0392b")},{text:"Default Board",clickHandler:function(){A(!1)},style:B("#2980b9")},{text:"Get Moves String",clickHandler:function(){var e;console.log(null===(e=fe)||void 0===e?void 0:e.movesString)},style:B("#198510")},{text:"Generate FEN",clickHandler:function(){!function(e){for(var t={king:"k",queen:"q",knight:"n",pawn:"p",rook:"r",bishop:"b"},n="",i=!1,o=0;o<e.length;o++){var c=0;0!==o&&(n+="/");for(var r=0;r<e.length;r++){var a=e[o][r];a instanceof te?"black"===a.color?(0!==c&&(n+=String(c),c=0,i=!0),n+=t[a.pieceName]):"white"===a.color&&(0!==c&&(n+=String(c),c=0,i=!0),n+=t[a.pieceName].toUpperCase()):(c+=1,i=!1),0===c||i||7===r&&(n+=String(c))}}}(o)},style:B("#8e44ad")},{text:"Save Game",clickHandler:function(){var t=JSON.stringify({player1:e.username,player2:"Johan",moves:fe.getAllMoves()});_.post("/games/chess/savegame",t,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e.data)}))},style:B("#1321e6")}];return Object(m.jsx)(u.a.div,{style:{minWidth:"100vw",minHeight:"92vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsxs)(u.a.div,{style:{position:"relative",margin:"2rem 0",display:"flex",alignItems:"center"},children:[j.gameOver&&Object(m.jsx)(b,{winnerColor:j.winnerColor,winnerName:j.winnerName}),k.show&&Object(m.jsx)(he,{pawnColor:k.pawnColor,handlePawnPromotion:function(e){var t,n=k.cellsClicked,i=o.map((function(e){return Object(Z.a)(e)}));null===(t=fe)||void 0===t||t.promotePawn(i,e,n),c(i),C({show:!1,cellsClicked:{},pawnColor:""})}}),Object(m.jsx)(u.a.div,{style:{display:"flex",flexDirection:"column",position:"relative",background:"url(/images/chess/chessBoard.jpg)",objectFit:"contain",backgroundSize:"".concat(f*o.length,"px, ").concat(f*o.length,"px")},ref:N,children:Object(m.jsx)(ve,{board:o,chessBoardRef:N,userPieceColor:y,testBoard:!0,movePiece:function(e,t){if(!j.gameOver){var n,i,r=o.map((function(e){return e})),a=null===(n=fe)||void 0===n?void 0:n.showValidMoves(y,r,e,t);if(a&&"cellsClicked"in a){var s=a.cellsClicked,l=(a.castlingDone,a.pawnPromoted);if(P((function(e){return"white"===e?"black":"white"})),l){var d=r[s.rows[1]][s.cols[1]];C({show:!0,cellsClicked:s,pawnColor:d.color})}}if(c(r),null===(i=fe)||void 0===i?void 0:i.isGameOver(o)){var u={gameOver:!0,winnerColor:fe.winner,winnerName:""};g(u)}}}})}),Object(m.jsx)(u.a.div,{style:{display:"flex"},children:["white","black"].map((function(e){return Object(m.jsx)(u.a.div,{style:{display:"flex",flexDirection:"column"},children:["King","Queen","Rook","Bishop","Knight","Pawn"].map((function(t){return Object(m.jsx)(u.a.div,{children:Object(m.jsx)(u.a.img,{drag:!0,onDragEnd:T,dragConstraints:{left:0,right:0,top:0,bottom:0},dragTransition:{bounceStiffness:700,bounceDamping:50},whileHover:{cursor:"grab"},dragElastic:1,src:"".concat(window.location.origin,"/images/chess/").concat(e).concat(t,".png"),alt:"white".concat(t)})},"".concat(e,"-").concat(t))}))},e)}))}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:"2rem",minHeight:"260px"},children:L.map((function(e,t){return Object(m.jsx)(v.a,{onClick:e.clickHandler,variant:"contained",style:e.style,children:e.text},t)}))})]})})},be=function(e){Object(D.a)(n,e);var t=Object(H.a)(n);function n(e,i){var o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"white",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[7,4],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,4];return Object(j.a)(this,n),(o=t.call(this,c,r,a)).movesList=void 0,o.currentMove=void 0,o.promotionMoveIndices=void 0,o.playNextMove=function(e){if(!(o.currentMove>=o.movesList.length)){var t=o.movesList[o.currentMove];o.movePiece(e,t),o.currentMove in o.promotionMoveIndices&&o.promotePawn(e,o.promotionMoveIndices[o.currentMove],t),o.currentMove++}},o.movesList=e,o.promotionMoveIndices=i,o.currentMove=0,o}return n}(ue),je=Object(G.a)((function(e){return{listItem:{"&:hover":{backgroundColor:"#0b1622",color:"#0984e3",cursor:"pointer"}},listItemClicked:{backgroundColor:"#0b1622",color:"#0984e3"}}})),ge=function(){var e=J(),t=je(),n=R((function(e){return e})).user,o=Object(i.useState)((function(){return se()})),c=Object(l.a)(o,2),r=c[0],a=c[1],s=Object(i.useState)([]),d=Object(l.a)(s,2),u=d[0],h=d[1],b=Object(i.useState)(!1),j=Object(l.a)(b,2),g=j[0],p=j[1],O=Object(i.useState)(-1),w=Object(l.a)(O,2),k=w[0],x=w[1],E=Object(i.useRef)(null),y=function(e){p(!0),x(e);var t=u.find((function(t){return t.game_id===e}));a((function(){return se()}));var n=function(e){for(var t=[],n={},i=e.split(":"),o=0;o<i.length-1;o++){var c=i[o].split(";")[0],r=i[o].split(";")[1];r.includes("=")&&(n[o]=r.split("=")[1],r=r.split("=")[0]);var a=c.split(",").map(Number),s=r.split(",").map(Number);t.push({rows:a,cols:s})}return{moves:t,promotionMoveIndices:n}}(null===t||void 0===t?void 0:t.moves),i=n.moves,o=n.promotionMoveIndices;(C=new be(i,o)).setInitiallyAttackedCells(r)};return Object(m.jsxs)("div",{style:{margin:"2rem 4rem",display:"flex"},children:[Object(m.jsxs)("div",{id:"checkersBoard",style:{position:"relative",background:"url(/images/chess/chessBoard.jpg)",objectFit:"contain",backgroundSize:"".concat(f*r.length,"px, ").concat(f*r.length,"px"),width:"".concat(f*r.length,"px"),height:"".concat(f*r.length,"px"),margin:0,padding:0},ref:E,children:[Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(m.jsx)(ve,{board:r,chessBoardRef:E,userPieceColor:"white",movePiece:function(e,t){},testBoard:!0})}),Object(m.jsxs)("div",{style:{padding:"0.5rem 0",display:"flex",justifyContent:"space-evenly"},children:[Object(m.jsx)(v.a,{variant:"contained",disabled:!g,children:Object(m.jsx)(A.a,{})}),Object(m.jsx)(v.a,{variant:"contained",children:"Analyze"}),Object(m.jsx)(v.a,{variant:"contained",onClick:function(){var e=r.map((function(e){return e}));C.playNextMove(e),a(e)},disabled:!g,children:Object(m.jsx)(L.a,{})})]})]}),Object(m.jsx)("div",{className:e.messagesContainer,style:{height:"".concat(f*r.length,"px"),width:"100%"},children:Object(m.jsxs)(F.a,{style:{height:"".concat(f*r.length,"px"),display:"flex",flexDirection:"column",overflow:"auto"},children:[Object(m.jsx)("div",{style:{height:"90%"},children:u.map((function(e,n){return Object(m.jsxs)(U.a,{onClick:function(){y(e.game_id)},className:e.game_id===k?t.listItemClicked:t.listItem,children:[Object(m.jsx)("h5",{style:{width:"10%"},children:n+1}),Object(m.jsxs)("span",{style:{width:"60%"},children:[e.player1," vs ",e.player2]}),Object(m.jsx)("span",{style:{width:"30%"},children:"  "+e.date.split("T")[0]})]},e.game_id)}))}),Object(m.jsx)(U.a,{style:{height:"10%"},children:Object(m.jsx)(v.a,{variant:"contained",onClick:function(){_.get("/games/chess/".concat(n.username)).then((function(e){return h(e.data.games)}))},children:"Get All Games"})})]})})]})},pe=n(249),Oe=n(275),we=n(250),ke=Object.freeze({USER_PLAYED_A_MOVE:"userPlayedAMove",JOIN_A_ROOM:"joinRoom",SENT_CHAT_MESSAGE:"sentChatMessage",CHECKERS_GAME_OVER:"checkersGameOver",PAWN_PROMOTED:"pawnPromoted",CASTLED:"castled",CHESS_GAME_OVER:"chessGameOver",BEGAN_PATH:"beganPath",STROKED_PATH:"strokedPath",STARTED_FILLING:"startedFilling",START_SKETCHIO_GAME:"startSketchioGame"}),Ce=Object.freeze({OPPONENT_PLAYED_A_MOVE:"OPPONENT_PLAYED_A_MOVE",CHESS_COLOR_SELECTED:"CHESS_COLOR_SELECTED",CHESS_PLAYER_2_JOINED:"CHESS_PLAYER_2_JOINED",OPPONENT_PROMOTED_PAWN:"OPPONENT_PROMOTED_PAWN",CHESS_GAME_OVER:"CHESS_GAME_OVER",OPPONENT_CASTLED:"OPPONENT_CASTLED",CHECKERS_COLOR_SELECTED:"CHECKERS_COLOR_SELECTED",CHECKERS_GAME_OVER:"CHECKERS_GAME_OVER",CHECKERS_PLAYER_2_JOINED:"CHCKERS_PLAYER_2_JOINED",BEGAN_PATH:"BEGAN_PATH",STROKED_PATH:"STROKED_PATH",STARTED_FILLING:"STARTED_FILLING",SKETCH_IO_GAME_OVER:"SKETCH_IO_GAME_OVER",SKETCHIO_PLAYER_JOINED:"SKETCHIO_PLAYER_JOINED",NEW_PAINTER_SELECTED:"NEW_PAINTER_SELECTED",RECEIVE_CHAT_MESSAGE:"RECEIVE_CHAT_MESSAGE",USER_DISCONNECTED:"USER_DISCONNECTED"}),xe=function(){var e=R((function(e){return e})),t=e.socket,n=e.user,o=J(),c=Object(i.useState)(""),r=Object(l.a)(c,2),a=r[0],s=r[1],d=Object(i.useState)([]),u=Object(l.a)(d,2),h=u[0],v=u[1];Object(i.useEffect)((function(){t&&(t.on(Ce.RECEIVE_CHAT_MESSAGE,(function(e){v((function(t){return[].concat(Object(Z.a)(t),[e])}))})),t.on("disconnect",(function(){t.emit("userDisconnected",{username:n.username})})))}),[t]);return Object(m.jsxs)("div",{className:o.root,children:[Object(m.jsx)(F.a,{dense:!0,className:o.messagesContainer,children:h.map((function(e,t){return Object(m.jsxs)(U.a,{style:{wordBreak:"break-all"},children:[Object(m.jsx)("span",{style:{color:e.color,marginRight:"0.5rem",width:"20%"},children:e.username}),Object(m.jsx)("span",{style:{width:"80%",color:"BOT"===e.username?e.message.includes("joined")||e.message.includes("correctly")?"green":"red":"inherit"},children:e.message})]},t)}))}),Object(m.jsx)("div",{className:o.inputContainer,children:Object(m.jsxs)(pe.a,{style:{width:"100%"},variant:"filled",children:[Object(m.jsx)(Oe.a,{htmlFor:"chat-message-input-box",children:"Type you message"}),Object(m.jsx)(we.a,{id:"chat-message-input-box",fullWidth:!0,value:a,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&function(){if(""!==a){var e={username:n.username,color:n.chatColor||"red",message:a};v((function(t){return[].concat(Object(Z.a)(t),[e])})),null===t||void 0===t||t.emit(ke.SENT_CHAT_MESSAGE,e),s("")}}()}})]})})]})};!function(e){e.USER_LOGIN="USER_LOGIN",e.USER_REGISTER="USER_REGISTER",e.USER_LOGOUT="USER_LOGOUT",e.UPDATE_USER_SOCKET_DETAILS="UPDATE_USER_SOCKET_DETAILS",e.UPDATE_USER_PROFILE_PICTURE="UPDATE_USER_PROFILE_PICTURE",e.SET_SOCKET="SET_SOCKET"}(x||(x={}));var Ee,ye,Pe,Se,Ie,_e=function(e){return function(t){t({type:x.SET_SOCKET,payload:e})}},Ne=n(66),Re=function(e,t,n){var i=Object(a.a)({won:!1,lost:!1,drawn:!1,started:!1},n),o="/games/".concat(t,"/").concat(e);_.post(o,i,{headers:{"content-type":"application/json"}})},Me=new P,Ke=function(e){var t=e.roomId,n=R((function(e){return e})).user,o=Object(N.b)(),c=Object(i.useState)((function(){return S()})),r=Object(l.a)(c,2),a=r[0],s=r[1],d=Object(i.useState)({gameOver:!1,winnerName:"",winnerColor:""}),u=Object(l.a)(d,2),h=u[0],v=u[1],f=Object(i.useState)("white"),j=Object(l.a)(f,2),g=j[0],p=j[1],O=Object(i.useState)('"No one else is here"'),w=Object(l.a)(O,2),k=w[0],C=w[1],x=Object(i.useRef)(null);Object(i.useEffect)((function(){(Ee=Object(Ne.io)("http://localhost:8000")).emit(ke.JOIN_A_ROOM,{roomId:"checkers_".concat(t),username:n.username}),o(_e(Ee))}),[]),Object(i.useEffect)((function(){Ee.on(Ce.OPPONENT_PLAYED_A_MOVE,(function(e){var t=a.map((function(e){return e}));Me.movePiece(t,e),s(t)})),Ee.on(Ce.CHECKERS_COLOR_SELECTED,(function(e){p(e.color)})),Ee.on(Ce.CHECKERS_PLAYER_2_JOINED,(function(e){C(e.users.filter((function(e){return e!==n.username}))[0])})),Ee.on(Ce.CHECKERS_GAME_OVER,(function(e){v(e)}))}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{style:{height:"2rem"},children:Object(m.jsx)("h3",{children:k})}),Object(m.jsxs)("div",{id:"checkersBoard",style:{position:"relative"},children:[h.gameOver&&Object(m.jsx)(b,{winnerColor:h.winnerColor,winnerName:h.winnerName}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"red"===g?"column":"column-reverse"},ref:x,children:Object(m.jsx)(y,{board:a,checkersBoardRef:x,userPieceColor:g,testBoard:!1,movePiece:function(e,t){if(!h.gameOver){var i=a.map((function(e){return e})),o=Me.showValidMoves(g,i,e,t);if(s(i),o&&2===o.rows.length&&Ee.emit(ke.USER_PLAYED_A_MOVE,o),Me.isGameOver(a)){var c=Me.winner===g?n.username:k,r={gameOver:!0,winnerColor:Me.winner,winnerName:c};Ee.emit(ke.CHECKERS_GAME_OVER,r),Re(n.username,"checkers",{won:c===n.username,lost:c!==n.username}),Re(k,"checkers",{won:c===k,lost:c!==k}),v(r)}}}})})]}),Object(m.jsx)("div",{style:{height:"2rem",padding:"0.5rem 0"},children:Object(m.jsx)("h3",{children:n.username})})]})},Te=n(251),Ae=n(252),Be=Object.freeze({copyIcon:"copyIcon",paintFill:"paintFill"}),Le=Object.freeze((ye={},Object(s.a)(ye,Be.copyIcon,Object(m.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24",width:"24",height:"24",tabIndex:-1,fill:"white",style:{outline:"none",border:"none"},children:Object(m.jsx)("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z"})})),Object(s.a)(ye,Be.paintFill,Object(m.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",tabIndex:-1,"data-ga-event-category":"material-icons","data-ga-event-action":"click","data-ga-event-label":"FormatColorFill",children:Object(m.jsx)("path",{d:"M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z"})})),ye)),De=function(e){var t=e.svgName;return t in Le?Le[t]:Object(m.jsx)("span",{children:"404"})},He=function(e){var t=e.roomId,n=Object(i.useRef)(null),o=q();return Object(m.jsxs)(pe.a,{className:o.root,children:[Object(m.jsx)(Oe.a,{htmlFor:"outlined-adornment-password",children:"Room Id"}),Object(m.jsx)(we.a,{id:"standard-read-only-input",fullWidth:!0,defaultValue:t,readOnly:!0,ref:n,endAdornment:Object(m.jsx)(Te.a,{position:"end",children:Object(m.jsx)(Ae.a,{onClick:function(){n.current.querySelector("input").select(),document.execCommand("copy")},edge:"end",children:Object(m.jsx)(De,{svgName:Be.copyIcon})})})})]})},We=function(e){var t=R((function(e){return e})).user;Object(i.useEffect)((function(){0===Object.keys(t).length&&e.push("/")}),[e,t])},Ge=function(e){var t=e.match,n=e.history;We(n);var i=$(),o=Object(l.a)(i,1)[0]>1e3;return Object(m.jsxs)("div",{style:Object(a.a)(Object(a.a)({},V),{},{flexDirection:o?"row":"column"}),children:[Object(m.jsx)("div",{style:z,children:Object(m.jsx)(Ke,{roomId:t.params.roomId})}),Object(m.jsxs)("div",{style:Object(a.a)(Object(a.a)({},Y),{},{minWidth:o?"35%":"50%",maxWidth:o?"35%":"50%"}),children:[Object(m.jsx)(He,{roomId:t.params.roomId}),Object(m.jsx)(xe,{})]})]})},Fe=n(15),Ue=n(19),Ve=n.n(Ue),ze=n(31),Ye=function(e){return function(){var t=Object(ze.a)(Ve.a.mark((function t(n){var i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/user/login",e);case 2:(i=t.sent).data.success&&n({type:x.USER_LOGIN,payload:i.data.user});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},qe=function(e){return function(t){t({type:x.UPDATE_USER_PROFILE_PICTURE,payload:e})}},Je=new ue,Qe=Object(Fe.f)((function(e){var t=e.roomId,n=Object(N.b)(),o=R((function(e){return e.user})),c=Object(i.useState)((function(){return se()})),r=Object(l.a)(c,2),s=r[0],d=r[1],u=Object(i.useState)("white"),h=Object(l.a)(u,2),v=h[0],j=h[1],g=Object(i.useState)('"No one else is here"'),p=Object(l.a)(g,2),O=p[0],w=p[1],k=Object(i.useState)({gameOver:!1,winnerName:"",winnerColor:""}),C=Object(l.a)(k,2),E=C[0],y=C[1],P=Object(i.useState)({show:!1,cellsClicked:{},pawnColor:""}),S=Object(l.a)(P,2),I=S[0],_=S[1],M=Object(i.useRef)(null);Object(i.useEffect)((function(){(Pe=Object(Ne.io)("http://localhost:8000")).emit(ke.JOIN_A_ROOM,{roomId:"chess_".concat(t),username:o.username}),n(_e(Pe))}),[]),Object(i.useEffect)((function(){Pe.on(Ce.OPPONENT_PLAYED_A_MOVE,(function(e){var t=s.map((function(e){return e}));Je.movePiece(t,e),d(t)})),Pe.on(Ce.CHESS_COLOR_SELECTED,(function(e){var t;j(e.color),n((t=Object(a.a)(Object(a.a)({},o),{},{chatColor:e.chatColor}),function(e){console.log({userData:t}),e({type:x.UPDATE_USER_SOCKET_DETAILS,payload:t})}))})),Pe.on(Ce.CHESS_GAME_OVER,(function(e){y(e)})),Pe.on(Ce.OPPONENT_PROMOTED_PAWN,(function(e){var t=e.pieceName,n=e.cellsClicked,i=s.map((function(e){return e}));Je.promotePawn(i,t,n),d(i)})),Pe.on(Ce.OPPONENT_CASTLED,(function(e){var t=s.map((function(e){return e}));Je.movePiece(t,e),d(t)})),Pe.on(Ce.CHESS_PLAYER_2_JOINED,(function(e){w(e.users.filter((function(e){return e!==o.username}))[0])}))}),[]);var K=$();Object(i.useEffect)((function(){Je.setInitiallyAttackedCells(s)}),[]);return Object(m.jsxs)("div",{style:{margin:K[0]<910?"2rem 0":""},children:[Object(m.jsx)("div",{style:{height:"2rem"},children:Object(m.jsx)("h3",{children:O})}),Object(m.jsxs)("div",{id:"checkersBoard",style:{position:"relative",background:"url(/images/chess/chessBoard.jpg)",objectFit:"contain",backgroundSize:"".concat(f*s.length,"px, ").concat(f*s.length,"px")},children:[E.gameOver&&Object(m.jsx)(b,{winnerColor:E.winnerColor,winnerName:E.winnerName}),I.show&&Object(m.jsx)(he,{pawnColor:I.pawnColor,handlePawnPromotion:function(e){var t=I.cellsClicked,n=s.map((function(e){return e}));Pe.emit(ke.PAWN_PROMOTED,{pieceName:e,cellsClicked:t}),t&&Je.promotePawn(n,e,t),d(n),_({show:!1,cellsClicked:{},pawnColor:""})}}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"white"===v?"column":"column-reverse"},ref:M,children:Object(m.jsx)(ve,{board:s,chessBoardRef:M,userPieceColor:v,testBoard:!1,movePiece:function(e,t){if(!E.gameOver){var n=s.map((function(e){return e})),i=Je.showValidMoves(v,n,e,t);if(i&&"cellsClicked"in i){var c=i.cellsClicked,r=i.castlingDone,a=i.pawnPromoted;if(r||a||Pe.emit(ke.USER_PLAYED_A_MOVE,c),r&&Pe.emit(ke.CASTLED,c),a){var l=n[c.rows[1]][c.cols[1]];_({show:!0,cellsClicked:c,pawnColor:l.color})}}if(d(n),Je.isGameOver(s)){var u=Je.winner===v?o.username:O,h={gameOver:!0,winnerColor:Je.winner,winnerName:u};Pe.emit(ke.CHESS_GAME_OVER,h),Re(o.username,"chess",{won:u===o.username,lost:u!==o.username,drawn:!["white","black"].includes(Je.winner)}),Re(O,"chess",{won:u===O,lost:u!==O,drawn:!["white","black"].includes(Je.winner)}),y(h)}}}})})]}),Object(m.jsx)("div",{style:{height:"2rem",padding:"0.5rem 0"},children:Object(m.jsx)("h3",{children:o.username})})]})})),Xe=function(e){var t=e.match,n=e.history;We(n);var i=$(),o=Object(l.a)(i,1)[0]>1e3;return Object(m.jsxs)("div",{style:Object(a.a)(Object(a.a)({},V),{},{flexDirection:o?"row":"column"}),children:[Object(m.jsx)("div",{style:z,children:Object(m.jsx)(Qe,{roomId:t.params.roomId})}),Object(m.jsxs)("div",{style:Object(a.a)(Object(a.a)({},Y),{},{minWidth:o?"35%":"50%",maxWidth:o?"35%":"50%"}),children:[Object(m.jsx)(He,{roomId:t.params.roomId}),Object(m.jsx)(xe,{})]})]})},Ze=n(22),$e=n(272),et=n(276),tt=n(253),nt=n(256),it=n(255),ot=n(254),ct=n(69),rt=n(259),at=n(258),st=n(257),lt=n(274),dt=Object(G.a)({root:{maxWidth:225,backgroundColor:"#0b1622",color:"rgb(200, 200, 200) !important"},actionArea:{minWidth:"100%"},media:{height:225,objectFit:"contain"}}),ut=Object(Fe.f)((function(e){var t=e.gameName,n=e.history,o=dt(),c=Object(i.useState)(!1),r=Object(l.a)(c,2),a=r[0],s=r[1],d=Object(i.useState)(""),u=Object(l.a)(d,2),h=u[0],f=u[1],b=Object(i.useState)(!0),j=Object(l.a)(b,2),g=j[0],p=j[1],O=function(){s(!a)},w="/images/".concat(t,".jpg"),k=Object(G.a)((function(e){return{root:{"& .MuiInputBase-input.MuiOutlinedInput-input":{color:"black !important",display:"flex"},"& label.MuiInputLabel-root.MuiInputLabel-formControl.MuiInputLabel-animated.MuiInputLabel-outlined":{color:"black !important"},"& legend.PrivateNotchedOutline-legend-22":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}}},actionArea:{display:"flex"}}}))();return Object(i.useEffect)((function(){p(0===h.trim().length)}),[h]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(et.a,{className:o.root,style:{margin:"1rem 0"},children:[Object(m.jsxs)(tt.a,{className:o.actionArea,children:[Object(m.jsx)(ot.a,{className:o.media,image:w,title:t}),Object(m.jsxs)(it.a,{children:[Object(m.jsx)(ct.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(m.jsxs)(ct.a,{variant:"body2",component:"h4",children:["Play ",t]})]})]}),Object(m.jsxs)(nt.a,{children:[Object(m.jsx)(Ze.b,{to:"/".concat(t,"/").concat(Object($e.a)()),style:{textDecoration:"none"},children:Object(m.jsx)(v.a,{size:"small",style:{color:"green"},children:"Create Room"})}),Object(m.jsx)(v.a,{size:"small",style:{color:"red"},onClick:O,children:"Join Room"})]})]}),a&&Object(m.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 0 10px black",zIndex:100},"aria-labelledby":"form-dialog-title",children:[Object(m.jsx)(st.a,{style:{color:"black"},children:"Enter Room Id"}),Object(m.jsx)(at.a,{className:k.root,children:Object(m.jsxs)(pe.a,{variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"room-id",children:"Room Id"}),Object(m.jsx)(lt.a,{id:"room-id",type:"text",required:!0,value:h,onChange:function(e){return f(e.target.value)},labelWidth:70,fullWidth:!0})]})}),Object(m.jsxs)(rt.a,{children:[Object(m.jsx)(v.a,{onClick:O,style:{color:"red"},children:"Cancel"}),Object(m.jsx)(v.a,{onClick:function(){O(),n.push("".concat(t,"/").concat(h))},style:{color:"green",opacity:g?.6:1},disabled:g,children:"Enter Room"})]})]})]})})),ht=function(e){var t=e.history;We(t);var n={width:window.innerWidth>1e4?"70%":"100%",display:"flex",justifyContent:"space-between",padding:"0 5rem",flexWrap:"wrap",height:"92vh",alignItems:"center"};return Object(m.jsx)("div",{style:n,children:["chess","checkers","sketchio"].map((function(e){return Object(m.jsx)(ut,{gameName:e},e)}))})},vt=(n(209),function e(t,n,i){var o=this;Object(j.a)(this,e),this.canvas=void 0,this.ctx=void 0,this.socket=void 0,this.initialFillStyle=void 0,this.initialStrokeStyle=void 0,this.isPainting=void 0,this.isFilling=void 0,this.toggleFillPaint=function(){o.isPainting=!o.isPainting,o.isFilling=!o.isFilling},this.getPainting=function(){return o.isPainting},this.getFilling=function(){return o.isFilling},this.fill=function(e){o.ctx.fillStyle=e||o.initialFillStyle,o.ctx.fillRect(0,0,o.canvas.width,o.canvas.height)},this.setInitialStyles=function(){o.ctx.fillStyle=o.initialFillStyle,o.ctx.strokeStyle=o.initialStrokeStyle,o.fill(o.ctx.fillStyle)},this.changeCanvasColor=function(e){o.ctx.strokeStyle=e,o.ctx.fillStyle=e},this.beginPath=function(e,t){o.ctx.beginPath(),o.ctx.moveTo(e,t)},this.drawPath=function(e,t,n){o.ctx.strokeStyle=n,o.ctx.lineTo(e,t),o.ctx.stroke()},this.onMouseMove=function(e){var t=e.offsetX,n=e.offsetY;o.isPainting?(o.drawPath(t,n,o.ctx.strokeStyle),o.socket.emit(ke.STROKED_PATH,{x:t,y:n,color:o.ctx.strokeStyle})):(o.beginPath(t,n),o.socket.emit(ke.BEGAN_PATH,{x:t,y:n}))},this.handleCanvasClick=function(){o.isFilling&&(o.fill(o.ctx.fillStyle),o.socket.emit(ke.STARTED_FILLING,{color:o.ctx.fillStyle}))},this.setPaintingTrue=function(){return o.isPainting=!0},this.setPaintingFalse=function(){return o.isPainting=!1},this.enableCanvas=function(){o.canvas.addEventListener("mousemove",o.onMouseMove),o.canvas.addEventListener("mousedown",o.setPaintingTrue),o.canvas.addEventListener("mouseup",o.setPaintingFalse),o.canvas.addEventListener("mouseleave",o.setPaintingFalse),o.canvas.addEventListener("click",o.handleCanvasClick),o.changeCanvasColor("white")},this.disableCanvas=function(){o.canvas.removeEventListener("mousemove",o.onMouseMove),o.canvas.removeEventListener("mousedown",o.setPaintingTrue),o.canvas.removeEventListener("mouseup",o.setPaintingFalse),o.canvas.removeEventListener("mouseleave",o.setPaintingFalse),o.canvas.removeEventListener("click",o.handleCanvasClick)},this.canvas=t,this.ctx=n,this.socket=i,this.initialFillStyle="white",this.initialStrokeStyle="black",this.isPainting=!1,this.isFilling=!1,this.setInitialStyles()}),ft=Object(Fe.f)((function(e){var t=e.roomId,n=Object(N.b)(),o=R((function(e){return e})).user,c=J(),r=$(),a=Object(l.a)(r,2),s=a[0],d=a[1],u=s>1300,h=Object(i.useRef)(null),f=Object(i.useRef)(null),b=Object(i.useRef)(null),j=Object(i.useState)({width:0,height:.8*d}),g=Object(l.a)(j,2),p=g[0],O=g[1],w=Object(i.useState)([{username:o.username,points:0}]),k=Object(l.a)(w,2),C=k[0],x=k[1],E=Object(i.useState)({}),y=Object(l.a)(E,2),P=y[0],S=y[1],I=Object(i.useState)(!1),_=Object(l.a)(I,2),M=_[0],K=_[1],T=Object(i.useState)(!1),A=Object(l.a)(T,2),B=A[0],L=A[1];Object(i.useEffect)((function(){console.log("use effect to set isuserpainter"),P.newPainter?L(P.newPainter.username===o.username):L(!1)}),[P,o]),Object(i.useEffect)((function(){f.current&&O({width:f.current.offsetWidth,height:.9*d})}),[f,d,s]),Object(i.useEffect)((function(){(Ie=Object(Ne.io)("http://localhost:8000")).emit(ke.JOIN_A_ROOM,{roomId:"sketchio_".concat(t),username:o.username}),n(_e(Ie));var e=document.getElementById("drawingCanvas"),i=e.getContext("2d");return D("paint"),(Se=new vt(e,i,Ie)).enableCanvas(),function(){Se.disableCanvas()}}),[]),Object(i.useEffect)((function(){Ie.on(Ce.SKETCHIO_PLAYER_JOINED,(function(e){console.log(e),x(e.allUsersInRoom)})),Ie.on(Ce.NEW_PAINTER_SELECTED,(function(e){S(e),M||K(!0)})),Ie.on(Ce.BEGAN_PATH,(function(e){Se.beginPath(e.x,e.y)})),Ie.on(Ce.STROKED_PATH,(function(e){Se.drawPath(e.x,e.y,e.color)})),Ie.on(Ce.STARTED_FILLING,(function(e){Se.fill(e.color)}))}),[]);var D=function(e){(null===b||void 0===b?void 0:b.current).style.cursor="fill"===e?"url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='24px' height='24px' fill='white' stroke='black' viewBox='0 0 24 24' xml:space='preserve'%3E %3Cpath d='M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z'/%3E %3C/svg%3E\"), auto":"url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='24px' height='24px' fill='white' stroke='black' stroke-width='1' viewBox='0 0 24 24' xml:space='preserve'%3E %3Cpath d='M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z'/%3E %3C/svg%3E\") 0 24, auto"};return Object(m.jsxs)("div",{className:"canvasSuperContainer",children:[Object(m.jsxs)(F.a,{dense:!0,className:c.messagesContainer,style:{alignSelf:"flex-start",height:p.height+"px",minWidth:"10rem",width:"20%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(m.jsx)("div",{style:{maxHeight:"10%"},children:P.newPainter&&Object(m.jsx)(U.a,{style:{wordBreak:"break-all",marginBottom:"2rem",color:B?"#27ae60":"#f1c40f"},children:B?"You are Painting. Paint ".concat(P.newWord):"".concat(P.newPainter.username," is painting")})}),Object(m.jsxs)("div",{style:{minHeight:"80%"},children:[Object(m.jsx)(U.a,{style:{wordBreak:"break-all",margin:"2rem 0"},children:Object(m.jsx)("h2",{children:"Points"})}),C.map((function(e){return Object(m.jsxs)(U.a,{style:{wordBreak:"break-all",borderBottom:"1px solid white"},children:[Object(m.jsx)("h3",{style:{width:"75%"},children:e.username}),Object(m.jsx)("div",{style:{width:"5%"}}),Object(m.jsx)("h3",{style:{width:"20%"},children:e.points})]},e.username)}))]}),Object(m.jsx)(U.a,{style:{justifySelf:"flex-end",alignSelf:"flex-end"},children:Object(m.jsx)(v.a,{fullWidth:!0,variant:"contained",style:{backgroundColor:"#128277",color:"white",opacity:M?.6:1},onClick:function(){Ie.emit(ke.START_SKETCHIO_GAME,{room_id:t}),K(!0)},disabled:M,children:"Start Game"})})]}),Object(m.jsxs)("div",{className:"canvasContainer",style:{width:"70%"},ref:f,children:[Object(m.jsx)("div",{id:"sketchInfo"}),Object(m.jsx)("canvas",{id:"drawingCanvas",width:p.width,height:p.height,ref:b})]}),B&&Object(m.jsxs)("div",{className:"colorsContainer",style:u?{maxWidth:"10%",height:p.height+"px"}:{width:"100%",flexDirection:"row"},children:[["white","black","#27ae60","#2980b9","#16a085","#d63031","#f1c40f"].map((function(e){return Object(m.jsx)("div",{onClick:function(){return function(e){Se.changeCanvasColor(e)}(e)},className:"color",style:{backgroundColor:e}},e)})),Object(m.jsx)("div",{id:"sketchIOButton",children:Object(m.jsx)(v.a,{ref:h,onClick:function(){h.current&&(Se.toggleFillPaint(),Se.getPainting()&&(h.current.innerText="Fill",D("paint")),Se.getFilling()&&(h.current.innerText="Paint",D("fill")))},variant:"contained",color:"primary",children:"Fill"})})]})]})})),mt=function(e){var t=e.match,n=$(),i=Object(l.a)(n,1)[0]>1300;return Object(m.jsxs)("div",{style:{display:"flex",width:"100%",minHeight:"100vh",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:i?"row":"column"},children:[Object(m.jsx)("div",{style:{width:i?"75%":"100%"},children:Object(m.jsx)(ft,{roomId:t.params.roomId})}),Object(m.jsxs)("div",{style:Object(a.a)(Object(a.a)({},Y),{},{minWidth:i?"25%":"50%",maxWidth:i?"25%":"50%",marginTop:i?0:"3rem"}),children:[Object(m.jsx)(He,{roomId:t.params.roomId}),Object(m.jsx)(xe,{})]})]})},bt=n(277),jt=n(264),gt=n(263),pt=n(262),Ot=n(260),wt=n(271),kt=function(e){var t=e.percentage,n=e.color,i=Object(G.a)((function(e){return{circle:{"& svg circle":{stroke:0!==t?n:"white"}}}}))();return Object(m.jsx)("div",{children:Object(m.jsxs)(wt.a,{position:"relative",display:"inline-flex",className:i.circle,children:[Object(m.jsx)(Ot.a,{size:"3rem",variant:"determinate",value:t||100}),Object(m.jsx)(wt.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(m.jsx)(ct.a,{variant:"caption",component:"div",color:"initial",children:"".concat(t.toFixed(0),"%")})})]})})},Ct=n(261),xt=Object(G.a)((function(e){return Object(bt.a)({root:{width:"100%",maxWidth:"36ch",backgroundColor:"#0B1622",borderRadius:"0.25rem",boxShadow:"0 0 5px gray"},inline:{display:"inline"}})})),Et=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){var n,i,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/games/".concat(t));case 2:return n=e.sent,i=n.data,o={chess:{games_won:i.chess_info.games_won,games_lost:i.chess_info.games_lost,games_drawn:i.chess_info.games_drawn,games_started:i.chess_info.games_started},checkers:{games_won:i.checkers_info.games_won,games_lost:i.checkers_info.games_lost,games_drawn:i.checkers_info.games_drawn,games_started:i.checkers_info.games_started}},e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=xt(),t=R((function(e){return e})).user,n=Object(i.useState)({}),o=Object(l.a)(n,2),c=o[0],r=o[1];Object(i.useEffect)((function(){Et(t.username).then((function(e){return r(e)}))}),[]);var a=function(e){return e.split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")},s={games_won:"#27ae60",games_lost:"#e74c3c",games_drawn:"#7f8c8d",games_started:"#16a085"};return Object(m.jsx)("div",{style:{minHeight:"92vh",display:"flex",alignItems:"center",justifyContent:"space-around"},children:Object.entries(c).map((function(t){var n=Object(l.a)(t,2),i=n[0],o=n[1];return Object(m.jsx)(F.a,{className:e.root,subheader:Object(m.jsx)(Ct.a,{component:"h1",style:{color:"inherit",fontSize:"1.2rem",fontWeight:"bold"},children:a(i)}),children:Object.entries(o).map((function(t){var n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(U.a,{alignItems:"flex-start",children:[Object(m.jsx)(pt.a,{children:Object(m.jsx)(kt,{percentage:0===o.games_started?0:c/o.games_started*100,color:s[i]})}),Object(m.jsx)(gt.a,{style:{marginLeft:"1rem"},primary:a(i),secondary:Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ct.a,{component:"span",variant:"body2",className:e.inline,style:{color:s[i]},children:[c," out of ",o.games_started]})})})]},i),Object(m.jsx)(jt.a,{variant:"inset",component:"li"})]})}))},i)}))})},Pt=n(278),St=n(266),It=n(86),_t=n.n(It),Nt=n(265),Rt=n(267),Mt=n(268),Kt=n(269),Tt=Object(G.a)((function(e){return{root:{"& label.Mui-focused":{color:"white"},"& label.Mui":{color:"white !important"},"& .MuiInput-underline:after":{borderBottomColor:"white"},"& .MuiInputBase-input.MuiOutlinedInput-input":{color:"#fff !important"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgb(175, 175, 175)"},"&:hover fieldset":{borderColor:"rgb(200, 200, 200)"},"&.Mui-focused fieldset":{borderColor:"white"}}},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),borderColor:"rgba(52, 152, 219,1.0)",color:"white",borderWidth:"3px",maxWidth:"25%",paddingTop:"0.5rem",paddingBottom:"0.5rem","&:hover":{backgroundColor:"rgba(52, 152, 219,0.6)",borderColor:"#2980b9"}},formGroup:{display:"flex",justifyContent:"space-between",flexWrap:"nowrap",marginTop:"1rem"},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"49%"},icon:{fill:"rgb(200, 200, 200) !important"}}})),At=function(e){var t=e.history,n=Object(N.b)(),o=R((function(e){return e})).user,c=Tt(),r=Object(i.useState)(!1),d=Object(l.a)(r,2),u=d[0],h=d[1],f=Object(i.useState)({username:"",password:""}),b=Object(l.a)(f,2),j=b[0],g=b[1],p=function(e,t){g(Object(a.a)(Object(a.a)({},j),{},Object(s.a)({},e,t)))};Object(i.useEffect)((function(){var e;(null===(e=o.token)||void 0===e?void 0:e.length)&&t.push(Jt[qt.GAMES_SCREEN].path)}),[o.token,t]);var O=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n(Ye(j));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(Nt.a,{component:"main",maxWidth:"xs",className:c.root,children:[Object(m.jsx)(St.a,{}),Object(m.jsxs)("div",{className:c.paper,children:[Object(m.jsx)(Pt.a,{className:c.avatar,children:Object(m.jsx)(_t.a,{})}),Object(m.jsx)(ct.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(m.jsxs)("form",{className:c.form,noValidate:!0,children:[Object(m.jsx)("div",{children:Object(m.jsxs)(pe.a,{style:{width:"100%"},variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"username",children:"Username"}),Object(m.jsx)(lt.a,{id:"username",type:"text",required:!0,value:j.username,onChange:function(e){return p("username",e.target.value)},labelWidth:70,fullWidth:!0,autoComplete:"username"}),0===j.username.trim().length&&Object(m.jsx)(Rt.a,{error:!0,children:"Username cannot be empy"})]})}),Object(m.jsx)("div",{style:{marginTop:"1rem"},children:Object(m.jsxs)(pe.a,{style:{width:"100%"},variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"outlined-adornment-password",children:"Password*"}),Object(m.jsx)(lt.a,{id:"outlined-adornment-password",required:!0,type:u?"text":"password",value:j.password,onChange:function(e){return p("password",e.target.value)},autoComplete:"new-password",endAdornment:Object(m.jsx)(Te.a,{position:"end",children:Object(m.jsx)(Ae.a,{"aria-label":"toggle password visibility",onClick:function(){return h(!u)},edge:"end",children:u?Object(m.jsx)(Mt.a,{className:c.icon}):Object(m.jsx)(Kt.a,{className:c.icon})})}),labelWidth:70}),0===j.password.trim().length&&Object(m.jsx)(Rt.a,{error:!0,children:"Password is required"})]})}),Object(m.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"default",className:c.submit,onClick:function(e){return O(e)},children:"Sign In"})]})]}),Object(m.jsxs)("div",{children:["Don't have an account?"," ",Object(m.jsx)(Ze.b,{to:"/register",children:Object(m.jsx)(v.a,{color:"primary",variant:"contained",children:"Register"})})]})]})},Bt=n(75),Lt=n.n(Bt),Dt=n(128),Ht=n.n(Dt),Wt=function(e){var t=e.src,n=(e.navbar,e.width),i=e.height,o=e.borderRadius,c=(null===t||void 0===t?void 0:t.length)>0?t:"defaultPic";return Object(m.jsx)("img",{src:c,width:n,height:i,style:{objectFit:"cover",borderRadius:o}})};Wt.defaultProps={width:"40px",height:"40px",borderRadius:"50%"};var Gt,Ft=Wt,Ut=Object(G.a)((function(){return{editIconContainer:{padding:"1rem",position:"relative"},editIcon:{position:"absolute",top:0,right:0,"&:hover":{fill:"white",cursor:"pointer"}}}})),Vt=function(e){var t=e.isForRegister,n=e.userInfo,o=e.submitHandler,c=Tt(),r=Ut(),d=Object(N.b)(),u=R((function(e){return e})).user,h=Object(i.useState)({password:!1,confirm:!1}),f=Object(l.a)(h,2),b=f[0],j=f[1],g=Object(i.useState)(!1),p=Object(l.a)(g,2),O=p[0],w=p[1],k=Object(i.useState)({username:(null===n||void 0===n?void 0:n.username)||"",password:(null===n||void 0===n?void 0:n.password)||"",confirmPassword:(null===n||void 0===n?void 0:n.confirmPassword)||"",firstName:(null===n||void 0===n?void 0:n.firstName)||"",lastName:(null===n||void 0===n?void 0:n.lastName)||"",email:(null===n||void 0===n?void 0:n.email)||"",profilePictureUrl:(null===n||void 0===n?void 0:n.profilePictureUrl)||""}),C=Object(l.a)(k,2),x=C[0],E=C[1],y=Object(i.useState)(!0),P=Object(l.a)(y,2),S=P[0],I=P[1];Object(i.useEffect)((function(){I(x.password===x.confirmPassword)}),[x.confirmPassword,x.password]);var M=function(e,t){"username"===e&&w(!0),E(Object(a.a)(Object(a.a)({},x),{},Object(s.a)({},e,t)))},K=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),S&&0!==x.username.trim().length?o(x):console.log("nooooooooo");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(Nt.a,{component:"main",maxWidth:"xs",className:c.root,style:{minWidth:"70%"},children:[Object(m.jsx)(St.a,{}),Object(m.jsxs)("div",{className:c.paper,children:[n?Object(m.jsxs)("div",{className:r.editIconContainer,children:[Object(m.jsx)(Ht.a,{onClick:function(){var e=document.createElement("input");e.setAttribute("type","file"),e.click(),e.onchange=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){var n,i,o,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t&&t.target){e.next=3;break}return e.abrupt("return");case 3:if(n=t.target.files){e.next=6;break}return e.abrupt("return");case 6:return(i=new FormData).append("myFile",n[0],n[0].name),console.log(n),o={headers:{Authorization:"Bearer ".concat(u.token),"content-type":"multipart/formdata"}},e.prev=10,e.next=13,_.post("/upload/profile-picture",i,o);case 13:(c=e.sent).data.success&&(console.log(c.data),d(qe(c.data.profilePictureUrl))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},className:r.editIcon}),n.profilePictureUrl.length?Object(m.jsx)(Ft,{src:n.profilePictureUrl,navbar:!1,width:"125",height:"125"}):Object(m.jsx)(Lt.a,{style:{width:"125",height:"125"}})]}):Object(m.jsx)(Pt.a,{className:c.avatar,children:Object(m.jsx)(_t.a,{})}),Object(m.jsx)(ct.a,{component:"h1",variant:"h5",children:t?"Sign Up":"Profile"}),Object(m.jsxs)("form",{className:c.form,children:[Object(m.jsxs)("div",{className:c.formGroup,children:[Object(m.jsxs)(pe.a,{className:c.textField,variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"username",children:"Username"}),Object(m.jsx)(lt.a,{id:"username",type:"text",required:!0,value:x.username,onChange:function(e){return M("username",e.target.value)},labelWidth:70,fullWidth:!0,autoComplete:"username"}),O&&0===x.username.trim().length&&Object(m.jsx)(Rt.a,{error:!0,children:"Username cannot be empy"})]}),Object(m.jsxs)(pe.a,{className:c.textField,variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"email",children:"Email"}),Object(m.jsx)(lt.a,{id:"email",type:"text",required:!0,value:x.email,onChange:function(e){return M("email",e.target.value)},labelWidth:70,fullWidth:!0,autoComplete:"email"})]})]}),Object(m.jsxs)("div",{className:c.formGroup,children:[Object(m.jsxs)(pe.a,{className:c.textField,variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"outlined-adornment-password",children:"New Password"}),Object(m.jsx)(lt.a,{id:"outlined-adornment-password",required:!0,type:b.password?"text":"password",value:x.password,onChange:function(e){return M("password",e.target.value)},autoComplete:"new-password",endAdornment:Object(m.jsx)(Te.a,{position:"end",children:Object(m.jsx)(Ae.a,{"aria-label":"toggle password visibility",onClick:function(){return j(Object(a.a)(Object(a.a)({},b),{},{password:!b.password}))},edge:"end",children:b.password?Object(m.jsx)(Mt.a,{className:c.icon}):Object(m.jsx)(Kt.a,{className:c.icon})})}),labelWidth:70}),!S&&Object(m.jsx)(Rt.a,{error:!0,children:"Passwords do not match"})]}),Object(m.jsxs)(pe.a,{className:c.textField,variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"outlined-adornment-confirm-password",children:"Confirm New Password"}),Object(m.jsx)(lt.a,{required:!0,id:"outlined-adornment-confirm-password",type:b.confirm?"text":"password",value:x.confirmPassword,onChange:function(e){return M("confirmPassword",e.target.value)},autoComplete:"new-password",endAdornment:Object(m.jsx)(Te.a,{position:"end",children:Object(m.jsx)(Ae.a,{"aria-label":"toggle password visibility",onClick:function(){return j(Object(a.a)(Object(a.a)({},b),{},{confirm:!b.confirm}))},edge:"end",children:b.confirm?Object(m.jsx)(Mt.a,{className:c.icon}):Object(m.jsx)(Kt.a,{className:c.icon})})}),labelWidth:70}),!S&&Object(m.jsx)(Rt.a,{error:!0,children:"Passwords do not match"})]})]}),Object(m.jsxs)("div",{className:c.formGroup,children:[Object(m.jsxs)(pe.a,{className:c.textField,variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"outlined-adornment-first-name",children:"First Name"}),Object(m.jsx)(lt.a,{id:"outlined-adornment-first-name",type:"text",value:x.firstName,onChange:function(e){return M("firstName",e.target.value)},labelWidth:70})]}),Object(m.jsxs)(pe.a,{className:c.textField,variant:"outlined",children:[Object(m.jsx)(Oe.a,{htmlFor:"outlined-adornment-last-name",children:"Last Name"}),Object(m.jsx)(lt.a,{id:"outlined-adornment-last-name",type:"text",value:x.lastName,onChange:function(e){return M("lastName",e.target.value)},labelWidth:70})]})]}),Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"default",className:c.submit,onClick:function(e){return K(e)},children:t?"Register":"Submit Edit"})})]})]}),t&&Object(m.jsxs)("div",{children:["Already have an account?"," ",Object(m.jsx)(Ze.b,{to:"/",children:Object(m.jsx)(v.a,{color:"primary",variant:"contained",children:"Login"})})]})]})},zt=function(){var e=R((function(e){return e})).user,t=function(){var t=Object(ze.a)(Ve.a.mark((function t(n){var i;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.put("/user/editdetails",n,{headers:{Authorization:"Bearer ".concat(e.token)}});case 2:i=t.sent,console.log(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{style:{height:"92vh",display:"flex",alignItems:"center"},children:Object(m.jsx)(Vt,{isForRegister:!1,userInfo:Object(a.a)(Object(a.a)({},e),{},{password:"",confirmPassword:""}),submitHandler:t})})},Yt=function(){var e=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){var n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/user/register",t);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{style:{height:"92vh",display:"flex",alignItems:"center"},children:Object(m.jsx)(Vt,{isForRegister:!0,submitHandler:e})})},qt=Object.freeze({LOGIN:"LOGIN",REGISTER:"REGISTER",PROFILE:"PROFILE",STATISTICS:"STATISTICS",GAMES_SCREEN:"GAMES_SCREEN",CHECKERS_SCREEN:"CHECKERS_SCREEN",CHESS_SCREEN:"CHESS_SCREEN",SKETCHIO_SCREEN:"SKETCHIO_SCREEN",CHECKERS_TEST:"CHECKERS_TEST",CHESS_TEST:"CHESS_TEST",CHESS_PLAY:"CHESS_PLAY",CHECKERS_PLAY:"CHECKERS_PLAY"}),Jt=(Gt={},Object(s.a)(Gt,qt.LOGIN,{name:qt.LOGIN,path:"/",component:At}),Object(s.a)(Gt,qt.REGISTER,{name:qt.REGISTER,path:"/register",component:Yt}),Object(s.a)(Gt,qt.GAMES_SCREEN,{name:qt.GAMES_SCREEN,path:"/games",component:ht}),Object(s.a)(Gt,qt.CHESS_TEST,{name:"chessTest",path:"/chess/analyze",component:ge}),Object(s.a)(Gt,qt.CHESS_PLAY,{name:"CHESS_PLAY",path:"/chess/test",component:me}),Object(s.a)(Gt,qt.CHECKERS_PLAY,{name:"CHESSCHECKERS_PLAY_PLAY",path:"/checkers/test",component:K}),Object(s.a)(Gt,qt.CHECKERS_SCREEN,{name:qt.CHECKERS_SCREEN,path:"/checkers/:roomId",component:Ge}),Object(s.a)(Gt,qt.CHESS_SCREEN,{name:qt.CHESS_SCREEN,path:"/chess/:roomId",component:Xe}),Object(s.a)(Gt,qt.SKETCHIO_SCREEN,{name:qt.SKETCHIO_SCREEN,path:"/sketchio/:roomId",component:mt}),Object(s.a)(Gt,qt.CHECKERS_TEST,{name:"checkersTest",path:"/checkerstest",component:X}),Object(s.a)(Gt,qt.PROFILE,{name:"profile",path:"/profile",component:zt}),Object(s.a)(Gt,qt.STATISTICS,{name:"stats",path:"/stats",component:yt}),Gt),Qt=n(129),Xt=n.n(Qt),Zt=n(131),$t=n.n(Zt),en=n(130),tn=n.n(en),nn=(n(210),n(211),Object(Fe.f)((function(e){var t=e.dropdownItems,n=e.location,i=e.close,o=e.type,c=function(){i(o)};return Object(m.jsx)("div",{className:"dropdown",children:t.map((function(e,t){return Object(m.jsx)(Ze.b,{onClick:c,to:e.path,style:{textDecoration:"none",color:"inherit"},children:Object(m.jsx)("div",{className:"dropdown-item"+"".concat(n.pathname===e.path?" selected":""),style:{width:"100%",height:"100%"},children:e.text})},t)}))})}))),on=Object(Fe.f)((function(e){var t=e.history,n=Object(N.b)(),o=R((function(e){return e})).user,c=Object(i.useState)(!1),r=Object(l.a)(c,2),d=r[0],u=r[1],h=Object(i.useState)({chess:!1,checkers:!1}),v=Object(l.a)(h,2),f=v[0],b=v[1],j=function(e){b((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(s.a)({},e,!t[e]))}))},g=[{text:"Play Board",path:Jt[qt.CHESS_PLAY].path}],p=[{text:"Play Board",path:Jt[qt.CHECKERS_PLAY].path}];return(null===o||void 0===o?void 0:o.username)&&(g.unshift({text:"Analyze Games",path:Jt[qt.CHESS_TEST].path}),p.unshift({text:"Analyze Games",path:Jt[qt.CHECKERS_TEST].path})),Object(m.jsxs)("nav",{className:"navbar-container",style:{justifyContent:(null===o||void 0===o?void 0:o.username)?"space-between":"space-around"},children:[Object(m.jsx)("div",{className:"navbar-logo",children:Object(m.jsx)(Ze.b,{to:(null===o||void 0===o?void 0:o.username)?Jt[qt.GAMES_SCREEN].path:Jt[qt.LOGIN].path,className:"react-link",children:Object(m.jsx)("h3",{children:"Multiplayer Games"})})}),Object(m.jsxs)("div",{className:"navbar-navlink",style:{position:"relative"},children:[Object(m.jsx)("div",{className:"nav-link react-link ".concat(f.chess?"nav-link-active":""," "),onClick:function(){return j("chess")},children:"Play Chess"}),f.chess&&Object(m.jsx)(nn,{dropdownItems:g,type:"chess",close:j})]}),Object(m.jsxs)("div",{className:"navbar-navlink",style:{position:"relative"},children:[Object(m.jsx)("div",{className:"nav-link react-link ".concat(f.checkers?"nav-link-active":""," "),onClick:function(){return j("checkers")},children:"Play Checkers"}),f.checkers&&Object(m.jsx)(nn,{dropdownItems:p,type:"checkers",close:j})]}),o.username&&Object(m.jsxs)("div",{className:"nav-profile-container",children:[Object(m.jsxs)("div",{className:"nav-profile-icon",onClick:function(){return u(!d)},children:[o.profilePictureUrl.length>0?Object(m.jsx)(Ft,{src:o.profilePictureUrl,navbar:!0}):Object(m.jsx)(Lt.a,{}),Object(m.jsx)(Xt.a,{})]}),d&&Object(m.jsxs)("div",{className:"nav-profile-modal",children:[Object(m.jsxs)(U.a,{className:"d-flex align-items-center profile-list-group-item",children:[Object(m.jsx)(Lt.a,{style:{fill:"#0984e3"}}),Object(m.jsx)("span",{className:"ml-2",children:Object(m.jsx)(Ze.b,{to:"/profile",onClick:function(){return u(!1)},className:"react-link",children:o.username})})]}),Object(m.jsxs)(U.a,{className:"d-flex align-items-center profile-list-group-item",children:[Object(m.jsx)(tn.a,{style:{fill:"#fff"}}),Object(m.jsx)("span",{className:"ml-2",children:Object(m.jsx)(Ze.b,{to:"/stats",onClick:function(){return u(!1)},className:"react-link",children:"Statistics"})})]}),Object(m.jsxs)(U.a,{onClick:function(){u(!1),n((function(e){e({type:x.USER_LOGOUT})})),t.push("/")},className:"d-flex align-items-center profile-list-group-item",children:[Object(m.jsx)($t.a,{style:{fill:"red"}}),Object(m.jsx)("span",{className:"ml-2",children:Object(m.jsx)(Ze.b,{to:"/",className:"react-link",children:"Logout"})})]})]})]})]})})),cn=function(){return Object(m.jsxs)("div",{className:"App",style:{minWidth:"100%",minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(m.jsx)(on,{}),Object(m.jsx)(Fe.c,{children:Object.values(Jt).map((function(e){return Object(m.jsx)(Fe.a,{exact:!0,path:e.path,render:function(t){return Object(m.jsx)(e.component,Object(a.a)({},t))}},e.name)}))})]})},rn=n(67),an={username:"",token:"",firstName:"",lastName:"",email:"",id:-1,profilePictureUrl:""},sn=Object(rn.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.USER_LOGIN:return localStorage.setItem("user",JSON.stringify(t.payload)),t.payload;case x.UPDATE_USER_SOCKET_DETAILS:return t.payload;case x.UPDATE_USER_PROFILE_PICTURE:return Object(a.a)(Object(a.a)({},e),{},{profilePictureUrl:t.payload});case x.USER_LOGOUT:return localStorage.clear(),{};default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.SET_SOCKET:return t.payload;default:return e}}}),ln=n(132),dn=n(133),un={user:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):{}}("user"),socket:null},hn=Object(rn.createStore)(sn,un,Object(ln.composeWithDevTools)(Object(rn.applyMiddleware)(dn.a)));r.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(N.a,{store:hn,children:Object(m.jsx)(Ze.a,{children:Object(m.jsx)(cn,{})})})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.aa55c19f.chunk.js.map